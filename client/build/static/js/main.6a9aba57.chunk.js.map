{"version":3,"sources":["config/moment.js","util/api.js","actions/posts.js","actions/error.js","actions/success.js","reducers/posts.js","reducers/form.js","actions/auth.js","reducers/auth.js","reducers/theme.js","store.js","reducers/error.js","reducers/success.js","actions/theme.js","middleware/auth.js","middleware/error.js","middleware/success.js","middleware/theme.js","theme.js","util/history.js","globalStyle.js","util/withAuth.js","components/shared/helpers.js","components/Header/Logo.js","components/Header/DarkButton/Icon.js","components/Header/DarkButton/Component.js","components/Header/DarkButton/Container.js","components/shared/NavLink.js","components/Header/NavLink.js","components/Header/Username/Text.js","components/Header/Username/index.js","components/Header/Component.js","components/Header/Container.js","components/ErrorNotification/Message.js","components/ErrorNotification/Component.js","components/ErrorNotification/Container.js","components/Notification/Message.js","components/Notification/Component.js","components/Notification/Container.js","components/shared/form/Form/Wrapper.js","components/shared/LoadingIndicator/Spinner.js","components/shared/form/Form/index.js","components/shared/form/InputWrapper.js","components/shared/form/Label.js","components/shared/form/Error.js","components/shared/form/SelectWrapper.js","components/shared/form/Input.js","components/shared/form/RadioGroup/Option.js","components/shared/form/RadioGroup/index.js","util/validators.js","components/shared/form/renderField.js","components/shared/Button.js","components/shared/form/SubmitButton.js","components/LoginForm/Component.js","components/LoginForm/Container.js","components/SignupForm/validate.js","components/SignupForm/Component.js","components/SignupForm/Container.js","categories.js","components/CreatePostForm/Component.js","components/CreatePostForm/Container.js","components/Home/MainSection.js","components/CategoryMenu/Dropdown.js","components/CategoryMenu/CreatePostButton.js","components/CategoryMenu/Component.js","components/CategoryMenu/Container.js","components/Post/Vote/Button.js","components/Post/Vote/Upvote.js","components/Post/Vote/Downvote.js","components/Post/Vote/Component.js","components/Post/Vote/Container.js","components/Post/Content/Title.js","components/Post/Content/Preview.js","components/shared/Markdown/renderers/heading.js","components/shared/Markdown/renderers/link.js","components/shared/Markdown/renderers/code.js","components/shared/Markdown/renderers/inlineCode.js","components/shared/Markdown/renderers/table.js","components/shared/Markdown/renderers/tableCell.js","components/shared/Markdown/renderers/thematicBreak.js","components/shared/Markdown/renderers/list.js","components/shared/Markdown/renderers/index.js","components/shared/Markdown/index.js","components/Post/Content/FullText.js","components/shared/Author.js","components/Post/Content/Detail.js","components/Post/Content/index.js","components/Post/index.js","components/PostList/Item.js","components/shared/LoadingIndicator/Box.js","components/shared/Empty.js","components/PostList/Component.js","components/PostList/Container.js","components/PostDetail/Post.js","components/shared/DeleteButton.js","components/PostDetail/InfoBar/Component.js","components/PostDetail/InfoBar/Container.js","components/CommentForm/TextArea.js","components/CommentForm/SubmitButton.js","components/CommentForm/Component.js","components/CommentForm/Container.js","components/Comment/Detail/Timestamp.js","components/Comment/Detail/Component.js","components/Comment/Detail/Container.js","components/Comment/Content.js","components/Comment/index.js","components/CommentList/Item.js","components/CommentList/index.js","components/PostDetail/CommentSection.js","components/PostDetail/Component.js","components/PostDetail/Container.js","components/Sidebar/CreatePostButton.js","components/Sidebar/CategoryList/Item.js","components/Sidebar/CategoryList/Header.js","components/Sidebar/CategoryList/index.js","components/Sidebar/Component.js","components/Sidebar/Container.js","components/Home/index.js","components/App/Component.js","components/App/Container.js","serviceWorker.js","index.js"],"names":["moment","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","M","MM","y","yy","baseUrl","concat","window","location","origin","methods","get","_get","Object","asyncToGenerator","regenerator_default","a","mark","_callee","endpoint","token","options","response","json","_args","arguments","wrap","_context","prev","next","length","undefined","method","headers","objectSpread","Authorization","fetch","sent","ok","Error","message","abrupt","stop","this","_x","apply","post","_post","_callee2","body","_args2","_context2","Content-Type","JSON","stringify","status","errors","forEach","error","param","msg","_x2","_x3","delete","_delete2","_callee3","_args3","_context3","_x4","login","_x5","_x6","_login","_callee4","username","password","_context4","signup","_x7","_x8","_x9","_signup","_callee5","email","_context5","success","getPosts","_x10","_getPosts","_callee6","category","_context6","getProfile","_x11","_getProfile","_callee7","_context7","getPost","_x12","_getPost","_callee8","id","_context8","createPost","_x13","_x14","_createPost","_callee9","_context9","deletePost","_x15","_x16","_deletePost","_callee10","_context10","createComment","_x17","_x18","_x19","_createComment","_callee11","comment","_context11","deleteComment","_x20","_x21","_x22","_deleteComment","_callee12","_context12","castVote","_x23","_x24","_x25","_castVote","_callee13","vote","voteType","_context13","1","0","-1","timeout","items","fetchPostsRequest","type","fetchPostsSuccess","posts","fetchPostsError","fetchPostRequest","fetchPostSuccess","createPostRequest","createPostSuccess","deletePostRequest","createCommentRequest","createCommentSuccess","deleteCommentRequest","deleteCommentSuccess","voteRequest","voteSuccess","formReducer","plugin","state","action","loginRequest","loginSuccess","signupRequest","signupSuccess","hideErrorClearTimeout","dispatch","clearTimeout","showSuccessWithTimeout","showSuccess","setTimeout","localStorage","getItem","user","jwtDecode","initialState","isFetching","dark","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","combineReducers","form","auth","loading","newPost","isDeleting","filter","i","isCommenting","isVoting","map","updateItems","theme","applyMiddleware","thunk","setItem","removeItem","store","getState","showError","toString","constants","upvote","downvote","normalText","mutedText","border","accent","pageBackground","voteButtonHover","foreground","activeBackground","inputBackground","shadow","light","isDark","history","createBrowserHistory","listen","GlobalStyle","createGlobalStyle","_templateObject","props","withAuth","WrappedComponent","connect","smallFont","css","helpers_templateObject","wideFont","_templateObject2","fadeKeyframes","keyframes","_templateObject3","fade","_templateObject4","transition","_len","Array","_key","str","item","index","headerItem","_templateObject5","link","_templateObject6","underline","overflow","_templateObject7","Logo","styled","Link","withConfig","displayName","componentId","HeaderLogo","react_default","createElement","to","Icon","svg","HeaderDarkButtonIcon","viewBox","transform","DarkButton","span","HeaderDarkButton","onClick","toggleDarkTheme","DarkButton_Icon","mapDispatchToProps","HeaderDarkButtonContainer","NavLink","RouterNavLink","attrs","activeClassName","HeaderNavLink","HeaderUsernameText","Wrapper","HeaderUsername","Text","header","Header","_ref","logout","Component_Wrapper","Header_Logo","Container","Fragment","Username","Header_NavLink","as","HeaderContainer","enhance","ErrorNotificationMessage","div","ErrorNotification","react_transition_group","component","classNames","ErrorNotification_Component_Wrapper","Message","React","Component","ErrorNotificationContainer","NotificationMessage","Notification","Notification_Component_Wrapper","Notification_Message","NotificationContainer","FormWrapper","wide","spin","LoadingIndicatorSpinner","StyledForm","Form","className","objectWithoutProperties","Form_Wrapper","assign","Spinner","InputWrapper","Label","label","SelectWrapper","flex","Input","input","Option_templateObject","active","RadioGroupOption","name","value","onChange","Option_Label","htmlFor","RadioGroupWrapper","RadioGroup_templateObject","len","RadioGroup","field","option","key","Option","e","fn","preventDefault","handleClick","renderOptions","VariableField","form_InputWrapper","form_Label","meta","touched","form_Error","form_SelectWrapper","form_Input","children","form_RadioGroup","rows","placeholder","autoComplete","renderField","renderField_VariableField","checkMaxLength","checkMinLength","max","required","usernameValidator","test","checkValidChars","trim","checkIfTrimmed","passwordValidator","emailValidator","checkIfEmail","urlValidator","URL","validUrl","Button","button","SubmitButton","LoginForm","onSubmit","_this","attemptLogin","redirectIfLoggedIn","prevProps","prevState","snapshot","push","form_Form","handleSubmit","Field","validate","form_SubmitButton","t0","reduxForm","LoginFormContainer","values","password2","SignupForm","attemptSignup","_ref2","SignupFormContainer","categories","postTypes","CreatePostForm","attemptCreatePost","mapCategories","_this$props","_ref4","CreatePostFormContainer","initialValues","fields","title","url","text","textPostValidator","postType","typeValidator","HomeMainSection","main","Dropdown","select","CategoryMenuDropdown","toConsumableArray","handleOnChange","event","target","CreatePostButton","CategoryMenuCreatePostButton","Menu","nav","CategoryMenuContainer","Route","path","match","CategoryMenu_Dropdown","params","CategoryMenu_CreatePostButton","PostVoteButton","canVote","PostVoteUpvote","didVote","PostVoteDownvote","PostVote","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","didUpvote","didDownvote","existingVote","score","nextProps","nextState","nextContext","setState","attemptVote","Vote_Component_Wrapper","Upvote","Downvote","votes","find","_ref8","PostVoteContainer","full","PostContentTitle","Title_Wrapper","href","renderTitle","PostContentPreview","headingSizes","h1","h2","h3","h4","h5","h6","Heading","level","headingRenderer","levelString","linkRenderer","link_Link","Pre","pre","codeRenderer","InlineCode","code","inlineCodeRenderer","Table","table","tableRenderer","tableHeader","TableCell","td","isHeader","tableCellRenderer","ThematicBreak","hr","thematicBreakRenderer","List","ul","renderers","heading","inlineCode","tableCell","thematicBreak","list","ordered","html","StyledReactMarkdown","ReactMarkdown","allowed","Markdown","source","plugins","breaks","allowedTypes","unwrapDisallowed","PostContentFullText","FullText_Wrapper","shared_Markdown","StyledLink","Author","PostContentDetail","Detail_Wrapper","commentCount","shared_Author","author","created","fromNow","PostContent","showFullPost","details","Content_Wrapper","Title","Preview","FullText","renderContent","Detail","Post","comments","content","Post_Wrapper","Vote_Container","Content","Item","li","PostListItem","components_Post","Box","LoadingIndicatorBox","Empty","Empty_Wrapper","PostList","loadPosts","fetchProfile","fetchPosts","mapPosts","PostList_Item","LoadingIndicator_Box","Component_List","shared_Empty","PostListContainer","PostDetailPost","PostDetail_Post_Wrapper","DeleteButton","DeleteButton_Button","round","PostDetailInfoBar","attemptDeletePost","InfoBar_Component_Wrapper","views","upvotePercentage","admin","shared_DeleteButton","_ref5","PostDetailInfoBarContainer","TextArea","CommentFormTextArea","onKeyDown","keyCode","StyledSubmitButton","CommentFormSubmitButton","CommentForm","attemptCreateComment","Component_StyledForm","CommentForm_TextArea","CommentForm_SubmitButton","_ref6","CommentFormContainer","Timestamp","CommentDetailTimestamp","CommentDetail","attemptDeleteComment","Detail_Component_Wrapper","Detail_Timestamp","_ref7","CommentDetailContainer","CommentContent","Content_Content","Comment","Comment_Wrapper","Detail_Container","Comment_Content","CommentListItem","Item_Item","components_Comment","CommentList","CommentList_List","CommentList_Item","mapComments","sort","b","Date","sortComments","PostDetailCommentSection","components_CommentList","PostDetail","fetchPost","goBack","PostDetail_Post","InfoBar_Container","CommentForm_Container","CommentSection","_ref3","PostDetailContainer","SidebarCreatePostButton","CreatePostButton_CreatePostButton","SidebarCategoryListItem","isAll","CategoryList_Item_Item","exact","SidebarCategoryListHeader","Header_Header","CategoryList","SidebarCategoryList","CategoryList_Header","CategoryList_Item","aside","SidebarContainer","Sidebar_Component_Wrapper","Sidebar_CreatePostButton","Sidebar_CategoryList","Home","Home_Wrapper","MainSection","render","PostList_Container","PostDetail_Container","App","styled_components_browser_esm","Router","globalStyle","Switch","AppContainer","Boolean","hostname","ReactDOM","es","App_Container","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"yLAEAA,IAAOC,aAAa,KAAM,CACxBC,aAAc,CACZC,OAAQ,QACRC,KAAM,SACNC,EAAI,MACJC,GAAI,MACJC,EAAI,KACJC,GAAI,MACJC,EAAI,KACJC,GAAI,MACJC,EAAI,KACJC,GAAI,MACJC,EAAI,KACJC,GAAI,MACJC,EAAI,KACJC,GAAI,6GCjBFC,EACJ,GAAAC,OAEOC,OAAOC,SAASC,OAFvB,QAIIC,EAAU,CACdC,IAAG,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAC,EAAgBC,GAAhB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAV,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAA0BT,EAA1BI,EAAAM,OAAA,QAAAC,IAAAP,EAAA,GAAAA,EAAA,GAAkC,KAC/BH,EAAU,CACdW,OAAQ,MACRC,QAAQpB,OAAAqB,EAAA,EAAArB,CAAA,GACFO,GAAS,CAAEe,cAAa,UAAA7B,OAAYc,MAJzCO,EAAAE,KAAA,EAQoBO,MAAK,GAAA9B,OAAID,EAAJ,KAAAC,OAAea,GAAYE,GARpD,cAQGC,EARHK,EAAAU,KAAAV,EAAAE,KAAA,EASgBP,EAASC,OATzB,UASGA,EATHI,EAAAU,KAWEf,EAASgB,GAXX,CAAAX,EAAAE,KAAA,eAWqBU,MAAMhB,EAAKiB,SAXhC,eAAAb,EAAAc,OAAA,SAaIlB,GAbJ,yBAAAI,EAAAe,SAAAxB,EAAAyB,SAAF,gBAAAC,GAAA,OAAAhC,EAAAiC,MAAAF,KAAAlB,YAAA,GAgBHqB,KAAI,eAAAC,EAAAlC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAA+B,EAAgB7B,EAAU8B,GAA1B,IAAA7B,EAAAC,EAAAC,EAAAC,EAAA2B,EAAAzB,UAAA,OAAAV,EAAAC,EAAAU,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAgCT,EAAhC8B,EAAApB,OAAA,QAAAC,IAAAmB,EAAA,GAAAA,EAAA,GAAwC,KACtC7B,EAAU,CACdW,OAAQ,OACRC,QAAQpB,OAAAqB,EAAA,EAAArB,CAAA,CACNuC,eAAgB,oBACZhC,GAAS,CAAEe,cAAa,UAAA7B,OAAYc,KAE1C6B,KAAMI,KAAKC,UAAUL,IAPnBE,EAAAtB,KAAA,EAUmBO,MAAK,GAAA9B,OAAID,EAAJ,KAAAC,OAAea,GAAYE,GAVnD,cAUEC,EAVF6B,EAAAd,KAAAc,EAAAtB,KAAA,EAWeP,EAASC,OAXxB,UAWEA,EAXF4B,EAAAd,KAaCf,EAASgB,GAbV,CAAAa,EAAAtB,KAAA,eAcsB,MAApBP,EAASiC,QACXhC,EAAKiC,OAAOC,QAAQ,SAAAC,GAClB,MAAMnB,MAAK,GAAAjC,OAAIoD,EAAMC,MAAV,KAAArD,OAAmBoD,EAAME,QAIlCrB,MAAMhB,EAAKiB,SApBf,eAAAW,EAAAV,OAAA,SAuBGlB,GAvBH,yBAAA4B,EAAAT,SAAAM,EAAAL,SAAF,gBAAAkB,EAAAC,GAAA,OAAAf,EAAAF,MAAAF,KAAAlB,YAAA,GA0BJsC,OAAM,eAAAC,EAAAnD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAgD,EAAgB9C,GAAhB,IAAAC,EAAAC,EAAAC,EAAAC,EAAA2C,EAAAzC,UAAA,OAAAV,EAAAC,EAAAU,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAA0BT,EAA1B8C,EAAApC,OAAA,QAAAC,IAAAmC,EAAA,GAAAA,EAAA,GAAkC,KAClC7C,EAAU,CACdW,OAAQ,SACRC,QAAQpB,OAAAqB,EAAA,EAAArB,CAAA,CACNuC,eAAgB,oBACZhC,GAAS,CAAEe,cAAa,UAAA7B,OAAYc,MALtC+C,EAAAtC,KAAA,EASiBO,MAAK,GAAA9B,OAAID,EAAJ,KAAAC,OAAea,GAAYE,GATjD,cASAC,EATA6C,EAAA9B,KAAA8B,EAAAtC,KAAA,EAUaP,EAASC,OAVtB,UAUAA,EAVA4C,EAAA9B,KAYDf,EAASgB,GAZR,CAAA6B,EAAAtC,KAAA,YAaoB,MAApBP,EAASiC,OAbT,CAAAY,EAAAtC,KAAA,eAa+BU,MAAM,gBAbrC,cAcEA,MAAMhB,EAAKiB,SAdb,eAAA2B,EAAA1B,OAAA,SAiBClB,GAjBD,yBAAA4C,EAAAzB,SAAAuB,EAAAtB,SAAF,gBAAAyB,GAAA,OAAAJ,EAAAnB,MAAAF,KAAAlB,YAAA,IAqBD,SAAe4C,EAAtBC,EAAAC,GAAA,OAAAC,EAAA3B,MAAAF,KAAAlB,sDAAO,SAAAgD,EAAsBC,EAAUC,GAAhC,IAAApD,EAAA,OAAAR,EAAAC,EAAAU,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EACcnB,EAAQoC,KAAK,QAAS,CAAE4B,WAAUC,aADhD,cACCpD,EADDqD,EAAAvC,KAAAuC,EAAAnC,OAAA,SAEElB,EAAKH,OAFP,wBAAAwD,EAAAlC,SAAA+B,EAAA9B,gCAKA,SAAekC,EAAtBC,EAAAC,EAAAC,GAAA,OAAAC,EAAApC,MAAAF,KAAAlB,sDAAO,SAAAyD,EAAuBR,EAAUC,EAAUQ,GAA3C,IAAA5D,EAAA,OAAAR,EAAAC,EAAAU,KAAA,SAAA0D,GAAA,cAAAA,EAAAxD,KAAAwD,EAAAvD,MAAA,cAAAuD,EAAAvD,KAAA,EACcnB,EAAQoC,KAAK,WAAY,CAAE4B,WAAUC,WAAUQ,UAD7D,cACC5D,EADD6D,EAAA/C,KAAA+C,EAAA3C,OAAA,SAEElB,EAAK8D,SAFP,wBAAAD,EAAA1C,SAAAwC,EAAAvC,gCAKA,SAAe2C,EAAtBC,GAAA,OAAAC,EAAA3C,MAAAF,KAAAlB,sDAAO,SAAAgE,EAAyBC,GAAzB,OAAA3E,EAAAC,EAAAU,KAAA,SAAAiE,GAAA,cAAAA,EAAA/D,KAAA+D,EAAA9D,MAAA,cAAA8D,EAAA9D,KAAA,EACQnB,EAAQC,IAAR,SAAAL,OAAqBoF,IAD7B,cAAAC,EAAAlD,OAAA,SAAAkD,EAAAtD,MAAA,wBAAAsD,EAAAjD,SAAA+C,EAAA9C,gCAIA,SAAeiD,EAAtBC,GAAA,OAAAC,EAAAjD,MAAAF,KAAAlB,sDAAO,SAAAsE,EAA2BrB,GAA3B,OAAA3D,EAAAC,EAAAU,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAnE,KAAA,EACQnB,EAAQC,IAAR,QAAAL,OAAoBoE,IAD5B,cAAAsB,EAAAvD,OAAA,SAAAuD,EAAA3D,MAAA,wBAAA2D,EAAAtD,SAAAqD,EAAApD,gCAIA,SAAesD,EAAtBC,GAAA,OAAAC,EAAAtD,MAAAF,KAAAlB,sDAAO,SAAA2E,EAAwBC,GAAxB,OAAAtF,EAAAC,EAAAU,KAAA,SAAA4E,GAAA,cAAAA,EAAA1E,KAAA0E,EAAAzE,MAAA,cAAAyE,EAAAzE,KAAA,EACQnB,EAAQC,IAAR,QAAAL,OAAoB+F,IAD5B,cAAAC,EAAA7D,OAAA,SAAA6D,EAAAjE,MAAA,wBAAAiE,EAAA5D,SAAA0D,EAAAzD,gCAIA,SAAe4D,EAAtBC,EAAAC,GAAA,OAAAC,EAAA7D,MAAAF,KAAAlB,sDAAO,SAAAkF,EAA2B1D,EAAM7B,GAAjC,OAAAL,EAAAC,EAAAU,KAAA,SAAAkF,GAAA,cAAAA,EAAAhF,KAAAgF,EAAA/E,MAAA,cAAA+E,EAAA/E,KAAA,EACQnB,EAAQoC,KAAK,QAASG,EAAM7B,GADpC,cAAAwF,EAAAnE,OAAA,SAAAmE,EAAAvE,MAAA,wBAAAuE,EAAAlE,SAAAiE,EAAAhE,gCAIA,SAAekE,EAAtBC,EAAAC,GAAA,OAAAC,EAAAnE,MAAAF,KAAAlB,sDAAO,SAAAwF,EAA2BZ,EAAIjF,GAA/B,OAAAL,EAAAC,EAAAU,KAAA,SAAAwF,GAAA,cAAAA,EAAAtF,KAAAsF,EAAArF,MAAA,cAAAqF,EAAArF,KAAA,EACQnB,EAAQqD,OAAR,QAAAzD,OAAuB+F,GAAMjF,GADrC,cAAA8F,EAAAzE,OAAA,SAAAyE,EAAA7E,MAAA,wBAAA6E,EAAAxE,SAAAuE,EAAAtE,gCAIA,SAAewE,EAAtBC,EAAAC,EAAAC,GAAA,OAAAC,EAAA1E,MAAAF,KAAAlB,sDAAO,SAAA+F,EAA8B1E,EAAM2E,EAASrG,GAA7C,OAAAL,EAAAC,EAAAU,KAAA,SAAAgG,GAAA,cAAAA,EAAA9F,KAAA8F,EAAA7F,MAAA,cAAA6F,EAAA7F,KAAA,EACQnB,EAAQoC,KAAR,QAAAxC,OAAqBwC,GAAQ2E,EAASrG,GAD9C,cAAAsG,EAAAjF,OAAA,SAAAiF,EAAArF,MAAA,wBAAAqF,EAAAhF,SAAA8E,EAAA7E,gCAIA,SAAegF,EAAtBC,EAAAC,EAAAC,GAAA,OAAAC,EAAAlF,MAAAF,KAAAlB,sDAAO,SAAAuG,EAA8BlF,EAAM2E,EAASrG,GAA7C,OAAAL,EAAAC,EAAAU,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,cAAAoG,EAAApG,KAAA,EACQnB,EAAQqD,OAAR,QAAAzD,OAAuBwC,EAAvB,KAAAxC,OAA+BmH,GAAWrG,GADlD,cAAA6G,EAAAxF,OAAA,SAAAwF,EAAA5F,MAAA,wBAAA4F,EAAAvF,SAAAsF,EAAArF,gCAIA,SAAeuF,EAAtBC,EAAAC,EAAAC,GAAA,OAAAC,EAAAzF,MAAAF,KAAAlB,sDAAO,SAAA8G,EAAyBlC,EAAImC,EAAMpH,GAAnC,IAAAqH,EAAA,OAAA1H,EAAAC,EAAAU,KAAA,SAAAgH,GAAA,cAAAA,EAAA9G,KAAA8G,EAAA7G,MAAA,cAOC4G,EANY,CAChBE,EAAK,SACLC,EAAK,SACLC,KAAM,YAGmBL,GAPtBE,EAAA7G,KAAA,EASQnB,EAAQC,IAAR,QAAAL,OAAoB+F,EAApB,KAAA/F,OAA0BmI,GAAYrH,GAT9C,cAAAsH,EAAAjG,OAAA,SAAAiG,EAAArG,MAAA,wBAAAqG,EAAAhG,SAAA6F,EAAA5F,gCChGA,ICLHmG,ECIAA,ECmBAC,EHdEC,EAAoB,CAAEC,KAJO,uBAK7BC,EAAoB,SAAAC,GAAK,MAAK,CAAEF,KAJH,sBAI8BE,UAC3DC,EAAkB,SAAA1F,GAAK,MAAK,CAAEuF,KAJH,oBAI4BvF,UA0BvD2F,EAAmB,CAAEJ,KAJO,sBAK5BK,EAAmB,SAAAxG,GAAI,MAAK,CAAEmG,KAJF,qBAI4BnG,SAiBxDyG,EAAoB,CAAEN,KAJO,uBAK7BO,EAAoB,SAAA1G,GAAI,MAAK,CAAEmG,KAJF,sBAI6BnG,SAkB1D2G,EAAoB,CAAER,KAJO,uBAwB7BS,EAAuB,CAAET,KAJO,0BAKhCU,EAAuB,SAAA7G,GAAI,MAAK,CAAEmG,KAJF,yBAIgCnG,SAmBhE8G,EAAuB,CAAEX,KAJO,0BAKhCY,EAAuB,SAAA/G,GAAI,MAAK,CAAEmG,KAJF,yBAIgCnG,SAmBhEgH,GAAc,CAAEb,KAJM,gBAKtBc,GAAc,SAAAjH,GAAI,MAAK,CAAEmG,KAJH,eAIuBnG,SI1IpCkH,OAAYC,OAAO,CAChCxC,QAAS,SAACyC,EAAOC,GACf,OAAQA,EAAOlB,MACb,IJ2FgC,yBI1F9B,OACF,QACE,OAAOiB,MCHTE,GAAe,CAAEnB,KAJM,iBAKvBoB,GAAe,SAAAjJ,GAAK,MAAK,CAAE6H,KAJJ,gBAIyB7H,UAiBhDkJ,GAAgB,CAAErB,KAJM,kBAKxBsB,GAAgB,SAAAlF,GAAO,MAAK,CAAE4D,KAJN,iBAI4B5D,YJZ7CmF,GAAwB,kBAAM,SAAAC,GACzCA,EAVuB,CAAExB,KADD,eAYxByB,aAAa5B,KCJF6B,GAAyB,SAAAtF,GAAO,OAAI,SAAAoF,GAE/CA,EAZmB,SAAApF,GAErB,MAAO,CAAE4D,KAHmB,eAGC5D,WAUlBuF,CAAYvF,IACrBqF,aAAa5B,GACbA,EAAU+B,WAAW,kBAAMJ,EAPF,CAAExB,KADD,kBAQ0B,2BIJhD7H,GAAQ0J,aAAaC,QAAQ,SAC7BC,GAAO5J,IAAS6J,KAAU7J,IAAO4J,KAEjCE,GAAYrK,OAAAqB,EAAA,EAAArB,CAAA,GACZO,IAAS,CAAEA,UACX4J,IAAQ,CAAEA,UHQVE,GAAe,CAAEC,YAAY,EAAOpC,MAAO,IIrB3CmC,GAAe,CAAEE,KADuB,SAAjCN,aAAaC,QAAQ,SCW5BM,GAAmB9K,OAAO+K,sCAAwCC,IAEzDC,eACbC,YAAgB,CAAEC,QAAMhI,MCHX,WAAkC,IAAjCwG,EAAiCzI,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAF5B,KAEiB0I,EAAW1I,UAAAK,OAAA,EAAAL,UAAA,QAAAM,EAC/C,OAAQoI,EAAOlB,MACb,ITF6B,oBSG7B,ITyB4B,mBSxB5B,IT0C6B,oBSzC7B,IT4D6B,oBS3D7B,IT+EgC,uBS9EhC,ITsHsB,aSrHtB,IJjBuB,cIkBvB,IJAwB,eICtB,OAAOkB,EAAOzG,MAEhB,IRtBsB,aQuBpB,OAAO,KAET,QACE,OAAOwG,IDbmB7E,QEVf,WAAkC,IAAjC6E,EAAiCzI,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAF5B,KAEiB0I,EAAW1I,UAAAK,OAAA,EAAAL,UAAA,QAAAM,EAC/C,OAAQoI,EAAOlB,MAEb,ILYwB,iBKXxB,IRVsB,eQWpB,OAAOkB,EAAO9E,QAEhB,IRNsB,eQOpB,OAAO,KAET,QACE,OAAO6E,IFD0ByB,KFG1B,WAAkC,IAAjCzB,EAAiCzI,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAzByJ,GAAcf,EAAW1I,UAAAK,OAAA,EAAAL,UAAA,QAAAM,EAC/C,OAAQoI,EAAOlB,MACb,IDD0B,iBCE1B,IDpByB,gBCqBvB,OAAOpI,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB0B,SAAS,IAC9B,IDrByB,gBCsBvB,IAAMZ,EAAOC,KAAUd,EAAO/I,OAAO4J,KACrC,OAAOnK,OAAAqB,EAAA,EAAArB,CAAA,GACFqJ,EADL,CAEE0B,SAAS,EACTxK,MAAO+I,EAAO/I,MACd4J,SAGJ,IDZ0B,iBCavB,MAAO,CACL3F,QAAS8E,EAAO9E,QAChBuG,SAAS,GAGd,IDjBwB,eCkBxB,IDpCuB,cCqCrB,OAAO/K,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB0B,SAAS,IAE9B,IDLkB,SCMhB,OAAO/K,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB9I,MAAO,KAAM4J,KAAM,OAExC,QACE,OAAOd,IE/BkCf,MLchC,WAAkC,IAAjCe,EAAiCzI,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAzByJ,GAAcf,EAAW1I,UAAAK,OAAA,EAAAL,UAAA,QAAAM,EAC/C,OAAQoI,EAAOlB,MACb,IHrB+B,sBGsB7B,OAAOpI,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,EAAMrI,KAAM,KAAM+I,QAAS,OAC5D,IHtB+B,sBGuB7B,OAAOhL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,EAAOpC,MAAOoB,EAAOhB,QACtD,IHvB6B,oBGwB3B,OAAOtI,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,IAEjC,IHA8B,qBGC5B,OAAOtK,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,EAAMU,QAAS,OAChD,IHD8B,qBGE5B,OAAOhL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,EAAOrI,KAAMqH,EAAOrH,OACrD,IHF4B,mBGG1B,OAAOjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,IAEjC,IHW+B,sBGV7B,OAAOtK,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,IACjC,IHU+B,sBGT7B,OAAOtK,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,EAAOU,QAAS1B,EAAOrH,OACxD,IHS6B,oBGR3B,OAAOjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBiB,YAAY,EAAOzH,MAAOyG,EAAOzG,QAEtD,IHuB+B,sBGtB7B,OAAO7C,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB4B,YAAY,IACjC,IHsB+B,sBGpB7B,OADA/C,EAAQmB,EAAMnB,MAAMgD,OAAO,SAAAC,GAAC,OAAIA,EAAE3F,KAAO8D,EAAOrH,OACzCjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB4B,YAAY,EAAO/C,QAAOjG,KAAM,OACrD,IHoB6B,oBGnB3B,OAAOjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB4B,YAAY,IAEjC,IHmCkC,yBGlChC,OAAOjL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB+B,cAAc,IACnC,IHkCkC,yBGjChC,OAAOpL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB+B,cAAc,EAAOnJ,KAAMqH,EAAOrH,OACvD,IHiCgC,uBGhC9B,OAAOjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB+B,cAAc,IAEnC,IHgDkC,yBG/ChC,OAAOpL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB4B,YAAY,IACjC,IH+CkC,yBG9ChC,OAAOjL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB4B,YAAY,EAAOhJ,KAAMqH,EAAOrH,OACrD,IH8CgC,uBG7C9B,OAAOjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmB4B,YAAY,IAEjC,IH6DwB,eG5DtB,OAAOjL,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBgC,UAAU,IAC/B,IH4DwB,eG1DtB,OADAnD,EApDc,SAACjG,EAAMiG,GAAP,OAClBA,EAAMoD,IAAI,SAAAH,GAAC,OAAKA,EAAE3F,KAAOvD,EAAKuD,GAAKvD,EAAOkJ,IAmD9BI,CAAYjC,EAAOrH,KAAMoH,EAAMnB,OAChClI,OAAAqB,EAAA,EAAArB,CAAA,GACFqJ,EADL,CAEEgC,UAAU,EACVnD,QACAjG,KAAMqH,EAAOrH,OAEjB,IHqDsB,aGpDpB,OAAOjC,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBgC,UAAU,IAE/B,QACE,OAAOhC,IKzEyCmC,MDXvC,WAAkC,IAAjCnC,EAAiCzI,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAzByJ,GACtB,QAD+CzJ,UAAAK,OAAA,EAAAL,UAAA,QAAAM,GAChCkH,MACb,IIP6B,oBJQ3B,OAAOpI,OAAAqB,EAAA,EAAArB,CAAA,GAAKqJ,EAAZ,CAAmBkB,MAAOlB,EAAMkB,OAClC,QACE,OAAOlB,MCOXmB,GACEiB,YAAgBC,IIhBL,kBAAM,SAAA1K,GAAI,OAAI,SAAAsI,GPCA,kBOAvBA,EAAOlB,KACT6B,aAAa0B,QAAQ,QAASrC,EAAO/I,OPkCnB,WOjCT+I,EAAOlB,MAChB6B,aAAa2B,WAAW,SAE1B5K,EAAKsI,MCiBQ,SAAAuC,GAAK,OAAI,SAAA7K,GAAI,OAAI,SAAAsI,GAE9B,OADAtI,EAAKsI,GACGA,EAAOlB,MACb,IbhB+B,sBaiB/B,IbW8B,qBaV9B,Ib4B+B,sBa3B/B,Ib8C+B,sBa7C/B,IbiEkC,yBahElC,IboFkC,yBanFlC,IbuGwB,eatGxB,IRhCyB,gBQiCzB,IRf0B,iBQgB1B,IRCkB,SQAZyD,EAAMC,WAAWjJ,OAAOgJ,EAAMjC,SAASD,MAC3C,MAEF,Ib5B6B,oBa6B7B,IbD4B,mBaE5B,IbgB6B,oBaf7B,IbkC6B,oBajC7B,IbqDgC,uBapDhC,IbwEgC,uBavEhC,Ib2FsB,aa1FtB,IR5CuB,cQ6CvB,IR3BwB,eQ4BtBkC,EAAMjC,UZ3CwB/G,EY2CMyG,EAAOzG,MZ3CJ,SAAA+G,GAC3CA,EAPgB,SAAA/G,GAAK,MAAK,CAAEuF,KADJ,aACsBvF,SAOrCkJ,CAAUlJ,IACnBgH,aAAa5B,GACbA,EAAU+B,WAAW,kBAAMJ,EANJ,CAAExB,KADD,gBAO0B,QAHhB,IAAAvF,KaCnB,SAAAgJ,GAAK,OAAI,SAAA7K,GAAI,OAAI,SAAAsI,GAE9B,OADAtI,EAAKsI,GACGA,EAAOlB,MACb,ITUwB,iBSTpByD,EAAMjC,SAASE,GAAuBR,EAAO9E,UAC/C,MAEF,ITOsB,eSNhBqH,EAAMC,WAAWtH,SAASqH,EAAMjC,SZEC,SAAAA,GAC3CA,EAXyB,CAAExB,KADD,iBAa1ByB,aAAa5B,SalBA,kBAAM,SAAAjH,GAAI,OAAI,SAAAsI,GAC3B,GJH+B,sBIG3BA,EAAOlB,KAA4B,CACrC,IAAMmC,EAAwC,SAAjCN,aAAaC,QAAQ,QAClCD,aAAa0B,QAAQ,SAAUpB,GAAMyB,YAEvChL,EAAKsI,+CCPD2C,GAAY,CAChBpJ,MAAO,UACP2B,QAAS,UACTmD,KAAM,UACNuE,OAAQ,UACRC,SAAU,WAGN5B,GAAIvK,OAAAqB,EAAA,EAAArB,CAAA,GACLiM,GADK,CAERG,WAAY,UACZC,UAAW,UACXC,OAAQ,UACRC,OAAQ,UACRC,eAAgB,UAChBC,gBAAiB,UACjBC,WAAY,UACZC,iBAAkB,UAClBC,gBAAiB,UACjBC,OAAQ,uBAGJC,GAAK9M,OAAAqB,EAAA,EAAArB,CAAA,GACNiM,GADM,CAETG,WAAY,UACZC,UAAW,UACXC,OAAQ,UACRC,OAAQ,UACRC,eAAgB,UAChBC,gBAAiB,UACjBC,WAAY,UACZC,iBAAkB,UAClBC,gBAAiB,UACjBC,OAAQ,wBAKKrB,GAFD,SAAAuB,GAAM,OAAKA,EAASxC,GAAOuC,aChCnCE,GAAUC,eAEhBD,GAAQE,OAAO,WACTrB,GAAMC,WAAWjJ,OAAOgJ,GAAMjC,SAASD,QAG9BqD,wICRf,IAMeG,GANKC,aAAHC,KAEO,SAAAC,GAAK,OAAIA,EAAM9B,MAAMgB,iBCF9B,SAASe,GAAUC,GAMhC,OAAOC,YALiB,SAAApE,GAAK,MAAK,CAChC9I,MAAO8I,EAAMyB,KAAKvK,MAClB4J,KAAMd,EAAMyB,KAAKX,OAGZsD,CAAyBD,qjCCN3B,IAAME,GAAYC,aAAHC,MAMTC,GAAWF,aAAHG,KACjBJ,IAKEK,GAAgBC,aAAHC,MAKNC,GAAOP,aAAHQ,KACFJ,IAGFK,GAAa,WAAc,QAAAC,EAAAzN,UAAAK,OAAVqM,EAAU,IAAAgB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAVjB,EAAUiB,GAAA3N,UAAA2N,GACtC,IAAIC,EAAM,eAMV,OALAlB,EAAM1K,QAAQ,SAAC6L,EAAMC,GACnBF,EAAMA,EAAI/O,OAAJ,GAAAA,OACDgP,EADC,cAAAhP,OACgBiP,IAAUpB,EAAMrM,OAAS,EAAI,IAAM,SAGpDuN,GAGIG,GAAahB,aAAHiB,MAWVC,GAAO,SAAAvB,GAAK,OAAIK,aAAJmB,KACrBV,GAAW,SAIJ,SAAAd,GAAK,OAAIA,EAAM9B,MAAMY,YAG1BkB,EAAMyB,WAAa,6BACZ,SAAAzB,GAAK,OAAIA,EAAM9B,MAAMe,UAIrByC,GAAWrB,aAAHsB,MCpDfC,GAAOC,aAAOC,MAAVC,WAAA,CAAAC,YAAA,OAAAC,YAAA,YAAGJ,CAAH,uJACNR,GAKO,SAAArB,GAAK,OAAIA,EAAM9B,MAAMY,aAWjBoD,GAFI,kBAAMC,EAAAtP,EAAAuP,cAACR,GAAD,CAAMS,GAAG,KAAT,cChBnBC,GAAOT,KAAOU,IAAVR,WAAA,CAAAC,YAAA,OAAAC,YAAA,YAAGJ,CAAH,kGAKJf,GAAW,QAEL,SAAAd,GAAK,OAAIA,EAAM9B,MAAMa,YAkBlByD,GATc,kBAC3BL,EAAAtP,EAAAuP,cAACE,GAAD,CAAMG,QAAQ,aACZN,EAAAtP,EAAAuP,cAAA,QACExQ,EAAE,mWACF8Q,UAAU,qBCnBVC,GAAad,KAAOe,KAAVb,WAAA,CAAAC,YAAA,wBAAAC,YAAA,gBAAGJ,CAAH,kFACZR,GAOU,SAAArB,GAAK,OAAIA,EAAM9B,MAAMe,SAWpB4D,GANU,SAAA7C,GAAK,OAC5BmC,EAAAtP,EAAAuP,cAACO,GAAD,CAAYG,QAAS9C,EAAM+C,iBACzBZ,EAAAtP,EAAAuP,cAACY,GAAD,QChBEC,GAAqB,CAAEF,gBbHE,iBAAO,CAAEjI,KADP,uBaWlBoI,GALmB/C,YAChC,KACA8C,GAFgC9C,CAGhC0C,cCmBaM,GAtBCtB,aAAOuB,MAAeC,MAAM,CAAEC,gBAFtB,WAEXvB,WAAA,CAAAC,YAAA,UAAAC,YAAA,gBAAGJ,CAAH,8HACTN,GAKET,GAAW,WARO,SAgBA,SAAAd,GAAK,OAAIA,EAAM9B,MAAMmB,mBCiB9BkE,GAjCO1B,aAAOsB,IAAVpB,WAAA,CAAAC,YAAA,yBAAAC,YAAA,YAAGJ,CAAH,kQACfR,GACAd,GACAgB,GAIO,SAAAvB,GAAK,OAAIA,EAAM9B,MAAMa,WAG1B+B,GAAW,UAAW,uBAQG,SAAAd,GAAK,OAAIA,EAAM9B,MAAMe,QAWrB,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,SCrBrCuE,GATY3B,KAAOe,KAAVb,WAAA,CAAAC,YAAA,2BAAAC,YAAA,eAAGJ,CAAH,6EACpBtB,GAKO,SAAAP,GAAK,OAAIA,EAAM9B,MAAMa,YCJ1B0E,GAAU5B,aAAO0B,IAAVxB,WAAA,CAAAC,YAAA,oBAAAC,YAAA,YAAGJ,CAAH,oFAEc,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QACpB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMc,SAUlC0E,GANQ,SAAA1D,GAAK,OAC1BmC,EAAAtP,EAAAuP,cAACqB,GAAD,CAASpB,GAAE,MAAAlQ,OAAQ6N,EAAMzJ,WACvB4L,EAAAtP,EAAAuP,cAACuB,GAAD,KAAqB3D,EAAMzJ,YCPzBkN,GAAU5B,KAAO+B,OAAV7B,WAAA,CAAAC,YAAA,qBAAAC,YAAA,YAAGJ,CAAH,8SAOc,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMqB,QACnB,SAAAS,GAAK,OAAIA,EAAM9B,MAAMc,QAG5B,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMkB,aAiC5ByE,GApBA,SAAAC,GAAA,IAAGjH,EAAHiH,EAAGjH,KAAMkH,EAATD,EAASC,OAAT,OACb5B,EAAAtP,EAAAuP,cAAC4B,GAAD,KACE7B,EAAAtP,EAAAuP,cAAC6B,GAAD,MACA9B,EAAAtP,EAAAuP,cAAC8B,GAAD,MACCrH,EACCsF,EAAAtP,EAAAuP,cAAAD,EAAAtP,EAAAsR,SAAA,KACEhC,EAAAtP,EAAAuP,cAACgC,GAAD,CAAgB7N,SAAUsG,EAAKtG,WAC/B4L,EAAAtP,EAAAuP,cAACiC,GAAD,CAAeC,GAAG,OAAOxB,QAASiB,GAAlC,YAKF5B,EAAAtP,EAAAuP,cAAAD,EAAAtP,EAAAsR,SAAA,KACEhC,EAAAtP,EAAAuP,cAACiC,GAAD,CAAehC,GAAG,UAAlB,UACAF,EAAAtP,EAAAuP,cAACiC,GAAD,CAAehC,GAAG,WAAlB,cCvCFY,GAAqB,CAAEc,OzBiCP,iBAAO,CAAEjJ,KADT,YyBvBPyJ,GAPCnH,YACd6C,GACAE,YAAQ,KAAM8C,IAGQuB,CAAQX,yDCajBY,GAvBkB5C,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,oCAAAC,YAAA,YAAGJ,CAAH,iSAC1BzB,GAMO,SAAAJ,GAAK,OAAIA,EAAM9B,MAAM3I,OAEV,SAAAyK,GAAK,OAAIA,EAAM9B,MAAMc,QASf,SAAAgB,GAAK,OAAIA,EAAM9B,MAAM3I,QCb3CkO,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,qBAAAC,YAAA,eAAGJ,CAAH,6PACTf,GAAW,UAAW,aAHR,yCAkDH6D,yLAhBX,OACExC,EAAAtP,EAAAuP,cAACwC,GAAA,gBAAD,CAAiBC,UAAW,MACzBrQ,KAAKwL,MAAMzK,OACV4M,EAAAtP,EAAAuP,cAACwC,GAAA,cAAD,CAAeE,WArCP,UAqC8BnK,QAAS,KAC7CwH,EAAAtP,EAAAuP,cAAC2C,GAAD,KACE5C,EAAAtP,EAAAuP,cAAC4C,GAAD,KACGxQ,KAAKwL,MAAMzK,MAAMlB,mBARF4Q,IAAMC,WC/BvBC,GAFoBhF,YAFX,SAAApE,GAAK,MAAK,CAAExG,MAAOwG,EAAMxG,QAEd4K,CAAyBwE,ICqB7CS,GAvBavD,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,+BAAAC,YAAA,YAAGJ,CAAH,iSACrBzB,GAMO,SAAAJ,GAAK,OAAIA,EAAM9B,MAAMhH,SAEV,SAAA8I,GAAK,OAAIA,EAAM9B,MAAMc,QASf,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMhH,UCb3CuM,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,qBAAAC,YAAA,eAAGJ,CAAH,6PACTf,GAAW,UAAW,aAHR,yCAkDHuE,yLAhBX,OACElD,EAAAtP,EAAAuP,cAACwC,GAAA,gBAAD,CAAiBC,UAAW,MACzBrQ,KAAKwL,MAAM9I,SACViL,EAAAtP,EAAAuP,cAACwC,GAAA,cAAD,CAAeE,WArCP,UAqC8BnK,QAAS,KAC7CwH,EAAAtP,EAAAuP,cAACkD,GAAD,KACEnD,EAAAtP,EAAAuP,cAACmD,GAAD,KACG/Q,KAAKwL,MAAM9I,mBARD+N,IAAMC,WC/BlBM,GAFerF,YAFN,SAAApE,GAAK,MAAK,CAAE7E,QAAS6E,EAAM7E,UAErBiJ,CAAyBkF,iCCkBxCI,GArBK5D,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,uBAAAC,YAAA,WAAGJ,CAAH,8PAIK,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QAE5B,SAAAgB,GAAK,OAAKA,EAAM0F,KAAO,QAAU,SAE1B,SAAA1F,GAAK,OAAIA,EAAM9B,MAAMkB,YAMpB,SAAAY,GAAK,OAAKA,EAAM0F,KAAO,QAAU,UCblDC,GAAOjF,aAAH,0GAsBKkF,GAZiB/D,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,mCAAAC,YAAA,YAAGJ,CAAH,8JAId8D,GACS,SAAA3F,GAAK,OAAIA,EAAM9B,MAAMe,OAAS,MAChC,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,SCbrC4G,GAAahE,KAAOtE,KAAVwE,WAAA,CAAAC,YAAA,mBAAAC,YAAA,gBAAGJ,CAAH,uEACZf,GAAW,UAMX,SAAAd,GAAK,OACLA,EAAMvC,SACN,wEAUWqI,GAPF,SAAAhC,GAAA,IAAGiC,EAAHjC,EAAGiC,UAAWL,EAAd5B,EAAc4B,KAAS1F,EAAvBtN,OAAAsT,GAAA,EAAAtT,CAAAoR,EAAA,6BACX3B,EAAAtP,EAAAuP,cAAC6D,GAAD,CAAcF,UAAWA,EAAWL,KAAMA,GACxCvD,EAAAtP,EAAAuP,cAACyD,GAADnT,OAAAwT,OAAA,GAAgBlG,EAAhB,CAAuB9H,GAAG,gBACzB8H,EAAMvC,SAAW0E,EAAAtP,EAAAuP,cAAC+D,GAAD,QCbPC,GANMvE,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,eAAAC,YAAA,gBAAGJ,CAAH,sDCSHwE,GARDxE,KAAOyE,MAAVvE,WAAA,CAAAC,YAAA,QAAAC,YAAA,eAAGJ,CAAH,mDACPzB,GAIO,SAAAJ,GAAK,OAAIA,EAAM9B,MAAMa,YCKjB3K,GAVDyN,KAAOe,KAAVb,WAAA,CAAAC,YAAA,QAAAC,YAAA,YAAGJ,CAAH,uDACPjB,GACAR,GAKO,SAAAJ,GAAK,OAAIA,EAAM9B,MAAM3I,QCUjBgR,GAlBO1E,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,gBAAAC,YAAA,YAAGJ,CAAH,2OAEf,SAAA7B,GAAK,OAAIA,EAAMwG,MAAQ,WAQI,SAAAxG,GAAK,OAAIA,EAAM9B,MAAMe,QACtB,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,SCsBpCwH,GAhCD5E,KAAO6E,MAAV3E,WAAA,CAAAC,YAAA,QAAAC,YAAA,gBAAGJ,CAAH,kRACPf,GAAW,SAAU,cAEX,SAAAd,GAAK,OAAIA,EAAMzK,MAAQyK,EAAM9B,MAAM3I,MAAQyK,EAAM9B,MAAMe,QACvD,SAAAe,GAAK,OACfA,EAAMzK,MAAQyK,EAAM9B,MAAM3I,MAAQ,KAAOyK,EAAM9B,MAAMe,OAAS,MAG9D,SAAAe,GAAK,OAAIA,EAAMzK,MAAN,yEAAApD,OAGW6N,EAAM9B,MAAMc,OAHvB,SAQS,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMoB,iBAEhC,SAAAU,GAAK,OAAIA,EAAM9B,MAAMY,0jBCjBhC,IAAMuH,GAAQxE,KAAOyE,MAAVK,KACP7F,GAAW,QAAS,oBACpBP,GAIkB,SAAAP,GAAK,OAAIA,EAAM9B,MAAMe,QAG3B,SAAAe,GAAK,OAAKA,EAAM4G,OAAS5G,EAAM9B,MAAMe,OAAS,eAGnD,SAAAe,GAAK,OAAKA,EAAM4G,OAAS,UAAY5G,EAAM9B,MAAMe,QAKxC,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,SAgC1B4H,GAdU,SAAA7G,GAAK,OAC5BmC,EAAAtP,EAAAuP,cAAAD,EAAAtP,EAAAsR,SAAA,KACEhC,EAAAtP,EAAAuP,cAAA,SACEtH,KAAK,QACLgM,KAAK,aACL5O,GAAI8H,EAAM+G,MACVC,SAAUhH,EAAM8C,UAElBX,EAAAtP,EAAAuP,cAAC6E,GAAD,CAAOC,QAASlH,EAAM+G,MAAOH,OAAQ5G,EAAM4G,QACxC5G,EAAMsG,uMC5Cb,IAAMa,GAAoBtF,KAAO6C,IAAV0C,MAevB,ICWYC,GDIGC,GAJI,SAAAxD,GAAA,IAAGyD,EAAHzD,EAAGyD,MAAH,OACjBpF,EAAAtP,EAAAuP,cAAC+E,GAAD,KAZoB,SAAAI,GACpB,OAAOA,EAAMrU,QAAQ8K,IAAI,SAACwJ,EAAQC,GAAT,OACvBtF,EAAAtP,EAAAuP,cAACsF,GAADhV,OAAAwT,OAAA,GACMsB,EADN,CAEEZ,OAAQW,EAAMb,MAAMK,QAAUS,EAAOT,MACrCjE,QAAS,SAAA6E,GAAC,OAVhB,SAAsBA,EAAGZ,EAAOa,GAC9BD,EAAEE,iBACFD,EAAGb,GAQee,CAAYH,EAAGH,EAAOT,MAAOQ,EAAMb,MAAMM,WACvDS,IAAKA,OAMWM,CAAcR,KEvB9BS,GAAgB,SAAAT,GACpB,OAAQA,EAAMzM,MACZ,IAAK,SACH,OACEqH,EAAAtP,EAAAuP,cAAC6F,GAAD,KACE9F,EAAAtP,EAAAuP,cAAC8F,GAAD,KAAQX,EAAMjB,OACbiB,EAAMY,KAAKC,SAAWb,EAAMY,KAAK5S,OAChC4M,EAAAtP,EAAAuP,cAACiG,GAAD,KAAQd,EAAMY,KAAK5S,OAErB4M,EAAAtP,EAAAuP,cAACkG,GAAD,KACEnG,EAAAtP,EAAAuP,cAACmG,GAAD7V,OAAAwT,OAAA,GAAWqB,EAAMb,MAAjB,CAAwBpC,GAAG,SAASxJ,KAAK,WACtCyM,EAAMiB,YAMjB,IAAK,aACH,OACErG,EAAAtP,EAAAuP,cAAC6F,GAAD,KACE9F,EAAAtP,EAAAuP,cAACqG,GAAD,CAAYlB,MAAOA,KAIzB,IAAK,WACH,OACEpF,EAAAtP,EAAAuP,cAAC6F,GAAD,KACE9F,EAAAtP,EAAAuP,cAAC8F,GAAD,KAAQX,EAAMjB,OACbiB,EAAMY,KAAKC,SAAWb,EAAMY,KAAK5S,OAChC4M,EAAAtP,EAAAuP,cAACiG,GAAD,KAAQd,EAAMY,KAAK5S,OAErB4M,EAAAtP,EAAAuP,cAACmG,GAAD7V,OAAAwT,OAAA,GACMqB,EAAMb,MADZ,CAEEpC,GAAG,WACHoE,KAAK,IACLnT,MAAOgS,EAAMY,KAAKC,WAAab,EAAMY,KAAK5S,MAC1CoT,YAAapB,EAAMjB,UAK3B,QACE,OACEnE,EAAAtP,EAAAuP,cAAC6F,GAAD,KACE9F,EAAAtP,EAAAuP,cAAC8F,GAAD,KAAQX,EAAMjB,OACbiB,EAAMY,KAAKC,SAAWb,EAAMY,KAAK5S,OAChC4M,EAAAtP,EAAAuP,cAACiG,GAAD,KAAQd,EAAMY,KAAK5S,OAErB4M,EAAAtP,EAAAuP,cAACmG,GAAD7V,OAAAwT,OAAA,GACMqB,EAAMb,MADZ,CAEEnR,MAAOgS,EAAMY,KAAKC,WAAab,EAAMY,KAAK5S,MAC1CuF,KAAMyM,EAAMzM,KACZ6N,YAAapB,EAAMjB,MACnBsC,aAAa,YAWVC,GAJK,SAAAtB,GAClB,OAAOpF,EAAAtP,EAAAuP,cAAC0G,GAAkBvB,IDrEfwB,GAAiB,SAAChC,EAAOM,GAAR,OAC5BN,GAASA,EAAMpT,QAAU0T,OACrBzT,EADJ,qBAAAzB,OAEyBkV,EAFzB,gBAIW2B,GAAiB,SAACjC,EAAOM,GAAR,OAC5BN,GAASA,EAAMpT,QAAU0T,OACrBzT,EADJ,qBAAAzB,OAEyBkV,EAFzB,gBAuBI4B,GAAM,SAAA5B,GAAG,OAAI,SAAAN,GAAK,OAAIgC,GAAehC,EAAOM,KAMrC6B,GAAW,SAAAnC,GAAK,OAAKA,OAAQnT,EAAY,YAKzCuV,GAAoB,CAACD,GAAUD,GAAI,IAT7B,SAAAlC,GAAK,OArBO,SAAAA,GAAK,MAClC,mBAAmBqC,KAAKrC,QAASnT,EAAY,8BAoBnByV,CAAgBtC,IAC5B,SAAAA,GAAK,OAnBS,SAAAA,GAAK,OACjCA,EAAMuC,SAAWvC,OAAQnT,EAAY,sCAkBd2V,CAAexC,KAS3ByC,GAAoB,CAACN,IAXtB7B,GAWoC,EAX7B,SAAAN,GAAK,OAAIiC,GAAejC,EAAOM,MAWE4B,GAAI,KAC3CQ,GAAiB,CAACP,GATZ,SAAAnC,GAAK,OAjBM,SAAAA,GAAK,MAEjC,0JAA0JqC,KAAKrC,QAASnT,EAAY,gBAe1J8V,CAAa3C,KAc5B4C,GAAe,SAAA5C,GAAK,OAAImC,GAASnC,IA3BtB,SAAAA,GACtB,IAEE,YADA,IAAI6C,IAAI7C,GAER,MAAOxR,GACP,MAAO,uBAsB6CsU,CAAS9C,IE5C3D+C,GAASjI,KAAOkI,OAAVhI,WAAA,CAAAC,YAAA,SAAAC,YAAA,gBAAGJ,CAAH,4NACRf,GAAW,SAAU,cACrBP,GAKkB,SAAAP,GAAK,OAAIA,EAAM9B,MAAMe,QAcf,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,OAAS,OAI3C6K,MCzBTE,GAAenI,aAAOiI,IAAV/H,WAAA,CAAAC,YAAA,eAAAC,YAAA,gBAAGJ,CAAH,0BAIHmI,MCATC,iNAcJC,SAAW,SAAApG,GAA4B,IAAzBvN,EAAyBuN,EAAzBvN,SAAUC,EAAesN,EAAftN,SACtB2T,EAAKnK,MAAMoK,aAAa7T,EAAUC,yFAblChC,KAAK6V,gEAIYC,EAAWC,EAAWC,GACvChW,KAAK6V,kEAID7V,KAAKwL,MAAM/M,OAAOuB,KAAKwL,MAAMN,QAAQ+K,KAAK,sCAQ9C,OACEtI,EAAAtP,EAAAuP,cAACsI,GAAD,CACEjN,QAASjJ,KAAKwL,MAAMvC,QACpByM,SAAU1V,KAAKwL,MAAM2K,aAAanW,KAAK0V,WAEvC/H,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,WACLR,MAAM,WACNxL,KAAK,OACL+J,UAAWgE,GACXgC,SAAU1B,KAEZhH,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,WACLR,MAAM,WACNxL,KAAK,WACL+J,UAAWgE,GACXgC,SAAUrB,KAEZrH,EAAAtP,EAAAuP,cAAC0I,GAAD,CAAchQ,KAAK,UAAnB,kBAtCgBmK,IAAMC,WA4Cf+E,MCvCThH,GAAqB,CAAEmH,a/CFD,SAAC7T,EAAUC,GAAX,sBAAAsN,EAAApR,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAwB,SAAAC,EAAMuJ,GAAN,IAAArJ,EAAA,OAAAL,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAClD4I,EAASL,IADyCzI,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAG5BwC,EAAMK,EAAUC,GAHY,OAG1CvD,EAH0CO,EAAAU,KAIhDoI,EAASJ,GAAajJ,IAJ0BO,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAuX,GAAAvX,EAAA,SAMhD8I,EARyB,CAAExB,KAJJ,cAIuBvF,MAQ3B/B,EAAAuX,KAN6B,yBAAAvX,EAAAe,SAAAxB,EAAAyB,KAAA,YAAxB,gBAAAC,GAAA,OAAAqP,EAAApP,MAAAF,KAAAlB,YAAA,I+CEckJ,2BAEpCgI,GAAUpH,YACd4N,aAAU,CAAEzN,KAAM,UAClB0C,GACAE,YATsB,SAAApE,GAAK,MAAK,CAChC0B,QAAS1B,EAAMyB,KAAKC,UAUlBwF,KAIEgI,GAAqBzG,GAAQyF,IAEpBgB,MCnBAJ,GANE,SAAAK,GACf,GAAIA,EAAO1U,WAAa0U,EAAOC,UAC7B,MAAO,CAAEA,UAAW,yBCKlBC,iNAaJlB,SAAW,SAAApG,GAAmC,IAAhCvN,EAAgCuN,EAAhCvN,SAAUC,EAAsBsN,EAAtBtN,SAAWQ,EAAW8M,EAAX9M,MACjCmT,EAAKnK,MAAMqL,cAAc9U,EAAUC,EAAUQ,yFAZ7CxC,KAAK6V,gEAGYC,EAAWC,EAAWC,GACvChW,KAAK6V,kEAID7V,KAAKwL,MAAM/M,OAAOuB,KAAKwL,MAAMN,QAAQ+K,KAAK,sCAQ9C,OACEtI,EAAAtP,EAAAuP,cAACsI,GAAD,CAEEjN,QAASjJ,KAAKwL,MAAMvC,QACpByM,SAAU1V,KAAKwL,MAAM2K,aAAanW,KAAK0V,WAEvC/H,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,WACLR,MAAM,WACNxL,KAAK,OACL+J,UAAWgE,GACXgC,SAAU1B,KAEXhH,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACC9D,KAAK,QACLR,MAAM,QACNxL,KAAK,OACL+J,UAAWgE,GACXgC,SAAUpB,KAEZtH,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,WACLR,MAAM,WACNxL,KAAK,WACL+J,UAAWgE,GACXgC,SAAUrB,KAEZrH,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,YACLR,MAAM,mBACNxL,KAAK,WACL+J,UAAWgE,KAEb1G,EAAAtP,EAAAuP,cAAC0I,GAAD,CAAchQ,KAAK,UAAnB,mBAnDiBmK,IAAMC,WAyDhBkG,MCpDTnI,GAAqB,CAAEoI,clDgBA,SAAC9U,EAAUC,EAAUQ,GAArB,sBAAAsU,EAAA5Y,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAA+B,SAAA+B,EAAMyH,GAAN,IAAApF,EAAA,OAAAtE,EAAAC,EAAAU,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAC1D4I,EAASH,IADiDnH,EAAAvB,KAAA,EAAAuB,EAAAtB,KAAA,EAGlCgD,EAAOH,EAAUC,EAAUQ,GAHO,OAGlDE,EAHkDlC,EAAAd,KAIxDoI,EAASF,GAAclF,IAJiClC,EAAAtB,KAAA,gBAAAsB,EAAAvB,KAAA,EAAAuB,EAAA+V,GAAA/V,EAAA,SAMxDsH,EAR0B,CAAExB,KAJJ,eAIwBvF,MAQ5BP,EAAA+V,KANoC,yBAAA/V,EAAAT,SAAAM,EAAAL,KAAA,YAA/B,gBAAAkB,GAAA,OAAA4V,EAAA5W,MAAAF,KAAAlB,YAAA,KkDdvBkR,GAAUpH,YACd4N,aAAU,CAAEzN,KAAM,SAAUsN,cAC5B5K,GACAE,YATsB,SAAApE,GAAK,MAAK,CAChC0B,QAAS1B,EAAMyB,KAAKC,UAUlBwF,KAIEsI,GAAsB/G,GAAQ4G,IAErBG,MChBAC,GATI,CACjB,QACA,QACA,SACA,cACA,OACA,WCCIC,GAAY,CAChB,CACEnF,MAAO,OACPS,MAAO,QAET,CACET,MAAO,OACPS,MAAO,SA4DI2E,iNAjDbxB,SAAW,SAAAvV,GAAI,OAAIwV,EAAKnK,MAAM2L,kBAAkBhX,MAEhDiX,cAAgB,kBACdJ,GAAWxN,IAAI,SAACzG,EAAU6J,GAAX,OACbe,EAAAtP,EAAAuP,cAAA,UAAQqF,IAAKrG,EAAO2F,MAAOxP,GACxBA,0FAXY+S,EAAWC,EAAWC,GAAU,IAAAqB,EAChBrX,KAAKwL,MAA9B/M,EADyC4Y,EACzC5Y,MAAO0B,EADkCkX,EAClClX,KAAM+K,EAD4BmM,EAC5BnM,QAChBzM,GAAOyM,EAAQ+K,KAAK,KACrB9V,GAAM+K,EAAQ+K,KAAR,MAAAtY,OAAmBwC,EAAK4C,SAAxB,KAAApF,OAAoCwC,EAAKuD,sCAanD,OACEiK,EAAAtP,EAAAuP,cAACsI,GAAD,CACEjN,QAASjJ,KAAKwL,MAAMhD,WACpBkN,SAAU1V,KAAKwL,MAAM2K,aAAanW,KAAK0V,UACvCxE,MAAI,GAEJvD,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,OACLR,MAAM,OACNxL,KAAK,aACL+J,UAAWgE,GACX3V,QAASuY,KAEXtJ,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,WACLR,MAAM,WACNxL,KAAK,SACL+J,UAAWgE,IAEVrU,KAAKoX,iBAERzJ,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CAAO9D,KAAK,QAAQR,MAAM,QAAQxL,KAAK,OAAO+J,UAAWgE,KACxB,SAAhCrU,KAAKwL,MAAMzC,KAAK2N,OAAOpQ,MACtBqH,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CAAO9D,KAAK,MAAMR,MAAM,MAAMxL,KAAK,MAAM+J,UAAWgE,KAErB,SAAhCrU,KAAKwL,MAAMzC,KAAK2N,OAAOpQ,MACtBqH,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CACE9D,KAAK,OACLR,MAAM,OACNxL,KAAK,WACL+J,UAAWgE,KAGf1G,EAAAtP,EAAAuP,cAAC0I,GAAD,CAAchQ,KAAK,UAAnB,uBAlDqBmK,IAAMC,WCiB7BjC,GAAqB,CAAE0I,kB1D8BI,SAAAhX,GAAI,sBAAAmX,EAAApZ,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAwD,EAAOgG,EAAUkC,GAAjB,IAAAvL,EAAAyK,EAAA,OAAA9K,EAAAC,EAAAU,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,cACvC4I,EAASlB,GAD8B3E,EAAAhD,KAAA,EAG7BR,EAAUuL,IAAWhB,KAArBvK,MAH6BwD,EAAA/C,KAAA,EAIf0E,EAAWzD,EAAM1B,GAJF,OAI/ByK,EAJ+BjH,EAAAvC,KAKrCoI,EAASjB,EAAkBqC,IALUjH,EAAA/C,KAAA,gBAAA+C,EAAAhD,KAAA,EAAAgD,EAAAsU,GAAAtU,EAAA,SAOrC6F,EAT8B,CAAExB,KAJH,oBAI4BvF,MASjCkB,EAAAsU,KAPa,yBAAAtU,EAAAlC,SAAA+B,EAAA9B,KAAA,YAAJ,gBAAAyB,EAAAE,GAAA,OAAA2V,EAAApX,MAAAF,KAAAlB,YAAA,K0DbtByY,GAfC3O,YACd4N,aAAU,CACRzN,KAAM,aACNyO,cAAe,CAAEzU,SAAUiU,GAAW,GAAI1Q,KAAM,QAChD+P,SA3Ba,SAAAoB,GACf,IX4B4BlF,EW5BtB1R,EAAS,GACT6W,EAAQD,EAAOC,MAAQD,EAAOC,MAAQ,GACtCC,EAAMF,EAAOE,IAAMF,EAAOE,IAAM,GAChCrR,EAAOmR,EAAOnR,KAAOmR,EAAOnR,KAAO,GACnCsR,EAAOH,EAAOG,KAAOH,EAAOG,KAAO,GAOzC,OALA/W,EAAO6W,MXuBPhD,GAD4BnC,EWtBEmF,IXuBXnD,GAAehC,EAAO,KWtB5B,SAATjM,IAAiBzF,EAAO8W,IAAMxC,GAAawC,IAClC,SAATrR,IAAiBzF,EAAO+W,KXsBG,SAAArF,GAAK,OACpCmC,GAASnC,IAAUiC,GAAejC,EAAO,GWvBNsF,CAAkBD,IACrD/W,EAAOyF,KXwBoB,SAAAiM,GAAK,OAAImC,GAASnC,IAZvB,SAAAA,GAAK,MACjB,SAAVA,GAA8B,SAAVA,OAChBnT,EACA,4BASmD0Y,CAASvF,GWxBlDwF,CAAczR,GAErBzF,KAiBP4K,GACAE,YAfsB,SAAApE,GAAK,MAAK,CAChCiB,WAAYjB,EAAMf,MAAMgC,WACxBrI,KAAMoH,EAAMf,MAAM0C,QAClBH,KAAMxB,EAAMwB,KAAKnF,aAcf6K,IAI4BuB,CAAQkH,IC3CzBc,GALS3K,KAAO4K,KAAV1K,WAAA,CAAAC,YAAA,+BAAAC,YAAA,gBAAGJ,CAAH,kCCGf6K,GAAW7K,KAAO8K,OAAV5K,WAAA,CAAAC,YAAA,WAAAC,YAAA,YAAGJ,CAAH,2HAKQ,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMkB,YAEhC,SAAAY,GAAK,OAAIA,EAAM9B,MAAMY,aA+BjB8N,iNA1BbhB,cAAgB,iBACd,CAAC,OAADzZ,OAAAO,OAAAma,GAAA,EAAAna,CAAW8Y,KAAYxN,IAAI,SAACzG,EAAU6J,GAAX,OACzBe,EAAAtP,EAAAuP,cAAA,UAAQqF,IAAKrG,EAAO2F,MAAOxP,GACxBA,QAIPuV,eAAiB,SAAAC,GACf,IAAMxV,EAAWwV,EAAMC,OAAOjG,MAC9B,GAAIxP,IAAa4S,EAAKnK,MAAMzI,SAAU,CACpC,IAAM4U,EAAmB,QAAb5U,EAAqB,IAArB,MAAApF,OAAiCoF,GAC7C4S,EAAKnK,MAAMN,QAAQ+K,KAAK0B,+EAK1B,OACEhK,EAAAtP,EAAAuP,cAACkG,GAAD,CAAe9B,MAAI,GACjBrE,EAAAtP,EAAAuP,cAACsK,GAAD,CAAU3F,MAAOvS,KAAKwL,MAAMzI,SAAUyP,SAAUxS,KAAKsY,gBAClDtY,KAAKoX,yBApBmB3G,IAAMC,WCXnC+H,GAAmBpL,aAAOiI,IAAV/H,WAAA,CAAAC,YAAA,mBAAAC,YAAA,eAAGJ,CAAH,0FAYPqL,GAJsB,kBACnC/K,EAAAtP,EAAAuP,cAAC6K,GAAD,CAAkB3I,GAAIxC,KAAMO,GAAG,eAA/B,gBCRI8K,GAAOtL,KAAOuL,IAAVrL,WAAA,CAAAC,YAAA,kBAAAC,YAAA,eAAGJ,CAAH,iHAEY,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SCH5BqO,GAFepN,GDcT,SAAAD,GAAK,OACxBmC,EAAAtP,EAAAuP,cAAC+K,GAAD,KACEhL,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CACEC,KAAK,eACL/E,SAAU,SAAA1E,GAAA,IAAG0J,EAAH1J,EAAG0J,MAAO9N,EAAVoE,EAAUpE,QAAV,OACRyC,EAAAtP,EAAAuP,cAACqL,GAAD,CACElW,SAAUiW,EAAQA,EAAME,OAAOnW,SAAW,MAC1CmI,QAASA,OAIdM,EAAM/M,OAASkP,EAAAtP,EAAAuP,cAACuL,GAAD,SEWLC,GApCQ/L,KAAOkI,OAAVhI,WAAA,CAAAC,YAAA,yBAAAC,YAAA,YAAGJ,CAAH,wQAChBf,GAAW,oBAcS,SAAAd,GAAK,OAAIA,EAAM9B,MAAMiB,iBAIvC2B,GAAW,UAWb,SAAAgD,GAAA,OAAAA,EAAG+J,SAAc,0DCnBNC,GAXQjM,aAAO+L,IAAV7L,WAAA,CAAAC,YAAA,yBAAAC,YAAA,gBAAGJ,CAAH,oHACH,SAAA7B,GAAK,OAClBA,EAAM+N,QAAU/N,EAAM9B,MAAMU,OAASoB,EAAM9B,MAAM7D,OCStC2T,GAXUnM,aAAO+L,IAAV7L,WAAA,CAAAC,YAAA,6BAAAC,YAAA,gBAAGJ,CAAH,uHACL,SAAA7B,GAAK,OAClBA,EAAM+N,QAAU/N,EAAM9B,MAAMW,SAAWmB,EAAM9B,MAAM7D,OCAjDoJ,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,qBAAAC,YAAA,gBAAGJ,CAAH,8JAUF,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMY,aA2EjBmP,eAvEb,SAAAA,EAAYjO,GAAO,IAAAmK,EAAAzX,OAAAwb,GAAA,EAAAxb,CAAA8B,KAAAyZ,IACjB9D,EAAAzX,OAAAyb,GAAA,EAAAzb,CAAA8B,KAAA9B,OAAA0b,GAAA,EAAA1b,CAAAub,GAAAI,KAAA7Z,KAAMwL,KA+CRpB,OAAS,kBAAMuL,EAAKpQ,SAASoQ,EAAKpO,MAAMuS,UAAY,EAAI,IAhDrCnE,EAkDnBtL,SAAW,kBAAMsL,EAAKpQ,SAASoQ,EAAKpO,MAAMwS,YAAc,GAAK,IAhD3D,IAAMR,EAAUE,EAASO,aAAaxO,GAFrB,OAGjBmK,EAAKpO,MAAQ,CACX0S,MAAOzO,EAAMyO,MACbV,UACAO,UAAuB,IAAZP,EACXQ,aAA0B,IAAbR,GAPE5D,qFAiBCuE,EAAWC,EAAWC,GACxC,GAAIpa,KAAKwL,MAAMyO,QAAUC,EAAUD,MAAO,CACxC,IAAMV,EAAUE,EAASO,aAAaE,GACtCla,KAAKqa,SAAS,CACZJ,MAAOC,EAAUD,MACjBV,UACAO,UAAuB,IAAZP,EACXQ,aAA0B,IAAbR,SAENvZ,KAAKwL,MAAM/M,QAAUyb,EAAUzb,OAAUyb,EAAUzb,OAC5DuB,KAAKqa,SAAS,CACZd,SAAS,EACTO,WAAW,EACXC,aAAa,qCAKVlU,GAAM,IAAAwR,EACsBrX,KAAKwL,MAAhC8O,EADKjD,EACLiD,YAAa5W,EADR2T,EACQ3T,GADR2T,EACY5Y,QAEvB6b,EAAY5W,EAAImC,GAChB7F,KAAKqa,SAAS,CACZJ,MAAOja,KAAKuH,MAAM0S,MAAQpU,EAAO7F,KAAKuH,MAAMgS,QAC5CA,QAAS1T,EACTiU,UAAoB,IAATjU,EACXkU,aAAuB,IAAVlU,sCAUjB,OACE8H,EAAAtP,EAAAuP,cAAC2M,GAAD,KACE5M,EAAAtP,EAAAuP,cAAC4M,GAAD,CACEnB,UAAWrZ,KAAKwL,MAAM/M,MACtB8a,QAASvZ,KAAKuH,MAAMuS,UACpBxL,QAAStO,KAAKoK,SAEhBuD,EAAAtP,EAAAuP,cAAA,YAAO5N,KAAKuH,MAAM0S,OAClBtM,EAAAtP,EAAAuP,cAAC6M,GAAD,CACEpB,UAAWrZ,KAAKwL,MAAM/M,MACtB8a,QAASvZ,KAAKuH,MAAMwS,YACpBzL,QAAStO,KAAKqK,sDArDe,IAAfhC,EAAeiH,EAAfjH,KAAMqS,EAASpL,EAAToL,MACpBV,EACJ3R,GAAQqS,GAASA,EAAMC,KAAK,SAAA9U,GAAI,OAAIA,EAAKwC,OAASA,EAAK3E,KACzD,OAAOsW,EAAeA,EAAanU,KAAO,SAfvB4K,IAAMC,WCZvBjC,GAAqB,CAAE6L,YpE0IF,SAAC5W,EAAImC,GAAL,sBAAA+U,EAAA1c,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAc,SAAAmF,EAAOqE,EAAUkC,GAAjB,IAAAvL,EAAA0B,EAAA,OAAA/B,EAAAC,EAAAU,KAAA,SAAA4E,GAAA,cAAAA,EAAA1E,KAAA0E,EAAAzE,MAAA,cACvC4I,EAASX,IAD8BxD,EAAA1E,KAAA,EAG7BR,EAAUuL,IAAWhB,KAArBvK,MAH6BkF,EAAAzE,KAAA,EAIlBqG,EAAS7B,EAAImC,EAAMpH,GAJD,OAI/B0B,EAJ+BwD,EAAAjE,KAKrCoI,EAASV,GAAYjH,IALgBwD,EAAAzE,KAAA,gBAAAyE,EAAA1E,KAAA,EAAA0E,EAAA4S,GAAA5S,EAAA,SAOrCmE,EATwB,CAAExB,KAJJ,aAIsBvF,MAS1B4C,EAAA4S,KAPmB,yBAAA5S,EAAA5D,SAAA0D,EAAAzD,KAAA,YAAd,gBAAAuD,EAAAM,GAAA,OAAA+W,EAAA1a,MAAAF,KAAAlB,YAAA,KoE9HZ+b,GAVCjS,YACd6C,GACAE,YACE,KACA8C,IAIsBuB,CAAQyJ,ICX5BxK,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,iBAAAC,YAAA,YAAGJ,CAAH,iIAIPH,GAOO,SAAA1B,GAAK,OAAIA,EAAM9B,MAAMY,YAC5B,SAAAkB,GAAK,OAAIA,EAAMsP,MAAQ,sBAIvB/N,GAAK,CAAEE,WAAW,KAsBT8N,GAJU,SAAAvP,GAAK,OAC5BmC,EAAAtP,EAAAuP,cAACoN,GAAD,CAASF,KAAMtP,EAAMsP,MAfH,SAAAtP,GAClB,OAAQA,EAAMlF,MACZ,IAAK,OACH,OAAOqH,EAAAtP,EAAAuP,cAAA,KAAGqN,KAAMzP,EAAMmM,KAAMnM,EAAMkM,OAEpC,IAAK,OACH,OAAIlM,EAAMsP,KAAanN,EAAAtP,EAAAuP,cAAA,YAAOpC,EAAMkM,OAC7B/J,EAAAtP,EAAAuP,cAACN,GAAA,EAAD,CAAMO,GAAE,MAAAlQ,OAAQ6N,EAAMzI,SAAd,KAAApF,OAA0B6N,EAAM9H,KAAO8H,EAAMkM,QAQpCwD,CAAY1P,KC3B3B2P,GAVY9N,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,8BAAAC,YAAA,eAAGJ,CAAH,sFACpBH,GAMO,SAAA1B,GAAK,OAAIA,EAAM9B,MAAMa,sDCN1B6Q,GAAe,CACnBC,GAAI,KACJC,GAAI,IACJC,GAAI,KACJC,GAAI,IACJC,GAAI,GACJC,GAAI,KAWAC,GAAUtO,KAAOe,KAAVb,WAAA,CAAAC,YAAA,mBAAAC,YAAA,YAAGJ,CAAH,iEACT,SAAA7B,GAAK,OATYoQ,EASKpQ,EAAMsE,GATFjE,aAAJ,uFAIXuP,GAAaQ,IAJP,IAAAA,IA0BNC,GALS,SAAArQ,GACtB,IAAMsQ,EAAW,IAAAne,OAAO6N,EAAMoQ,OAC9B,OAAOjO,EAAAtP,EAAAuP,cAAC+N,GAAD,CAAS7L,GAAIgM,GAActQ,EAAMwI,WChCpC1G,GAAOD,KAAOhP,EAAVkP,WAAA,CAAAC,YAAA,aAAAC,YAAA,YAAGJ,CAAH,6EACNf,GAAW,SAGJ,SAAAd,GAAK,OAAIA,EAAM9B,MAAMe,SASjBsR,GAFM,SAAAvQ,GAAK,OAAImC,EAAAtP,EAAAuP,cAACoO,GAASxQ,ICZlCyQ,GAAM5O,KAAO6O,IAAV3O,WAAA,CAAAC,YAAA,YAAAC,YAAA,YAAGJ,CAAH,gFAGa,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMgB,iBAU5ByR,GANM,SAAA3Q,GAAK,OACxBmC,EAAAtP,EAAAuP,cAACqO,GAAD,KACEtO,EAAAtP,EAAAuP,cAAA,YAAOpC,EAAM+G,SCTX6J,GAAa/O,KAAOgP,KAAV9O,WAAA,CAAAC,YAAA,yBAAAC,YAAA,gBAAGJ,CAAH,gEAGM,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMgB,iBAK5B4R,GAFY,SAAA9Q,GAAK,OAAImC,EAAAtP,EAAAuP,cAACwO,GAAe5Q,ICN9C+Q,GAAQlP,KAAOmP,MAAVjP,WAAA,CAAAC,YAAA,eAAAC,YAAA,YAAGJ,CAAH,+BAMIoP,GAFO,SAAAjR,GAAK,OAAImC,EAAAtP,EAAAuP,cAAC2O,GAAU/Q,ICHpCkR,GAAc7Q,aAAH,wCAWX8Q,GAAYtP,KAAOuP,GAAVrP,WAAA,CAAAC,YAAA,uBAAAC,YAAA,YAAGJ,CAAH,uBACX,SAAA7B,GAAK,OAPSqR,EAOkB,OAAbrR,EAAMsE,GAPCjE,aAAJ,+CACtBgR,GAAYH,GACM,SAAAlR,GAAK,OAAIA,EAAM9B,MAAMc,SAFzB,IAAAqS,IAgBHC,GALW,SAAAtR,GACxB,OAAIA,EAAMqR,SAAiBlP,EAAAtP,EAAAuP,cAAC+O,GAAD,CAAW7M,GAAG,MAAMtE,EAAMwI,UAC9CrG,EAAAtP,EAAAuP,cAAC+O,GAAD,KAAYnR,EAAMwI,WCnBrB+I,GAAgB1P,KAAO2P,GAAVzP,WAAA,CAAAC,YAAA,+BAAAC,YAAA,gBAAGJ,CAAH,0DAGU,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SAKnCyS,GAFe,kBAAMtP,EAAAtP,EAAAuP,cAACmP,GAAD,OCN9BG,GAAO7P,KAAO8P,GAAV5P,WAAA,CAAAC,YAAA,aAAAC,YAAA,gBAAGJ,CAAH,+JCmBK+P,GAZG,CAChBC,QAASxB,GACT9O,KAAMgP,GACNM,KAAMF,GACNmB,WAAYhB,GACZE,MAAOC,GACPc,UAAWT,GACXU,cAAeP,GACfQ,KDLmB,SAAAjS,GACnB,OAAIA,EAAMkS,QAAgB/P,EAAAtP,EAAAuP,cAACsP,GAAD,CAAMpN,GAAG,MAAMtE,EAAMwI,UACxCrG,EAAAtP,EAAAuP,cAACsP,GAAD,KAAO1R,EAAMwI,WCIpB2J,KAAM,SAAAnS,GAAK,OAAImC,EAAAtP,EAAAuP,cAAA,SAAIpC,EAAM+G,SCbrBqL,GAAsBvQ,aAAOwQ,MAAVtQ,WAAA,CAAAC,YAAA,gCAAAC,YAAA,eAAGJ,CAAH,iQACd,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMY,aA4B1BwT,GAAU,CACd,OACA,YACA,WACA,SACA,SACA,UACA,OACA,OACA,QACA,YACA,YACA,WACA,YACA,OACA,gBACA,OACA,WACA,cAaaC,GAVE,SAAAvS,GAAK,OACpBmC,EAAAtP,EAAAuP,cAACgQ,GAAD,CACEI,OAAQxS,EAAMwI,SACdiK,QAAS,CAACC,MACVC,aAAcL,GACdV,UAAWA,GACXgB,kBAAgB,KC1DdnP,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,8GAES,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QAIrB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMoB,kBAS5BuT,GANa,SAAA7S,GAAK,OAC/BmC,EAAAtP,EAAAuP,cAAC0Q,GAAD,KACE3Q,EAAAtP,EAAAuP,cAAC2Q,GAAD,KAAW/S,EAAMwI,YCVfwK,GAAanR,aAAOC,MAAVC,WAAA,CAAAC,YAAA,qBAAAC,YAAA,gBAAGJ,CAAH,mCACZN,GAGO,SAAAvB,GAAK,OAAIA,EAAM9B,MAAMY,aAOjBmU,GAJA,SAAAnP,GAAA,IAAGvN,EAAHuN,EAAGvN,SAAH,OACb4L,EAAAtP,EAAAuP,cAAC4Q,GAAD,CAAY3Q,GAAE,MAAAlQ,OAAQoE,IAAaA,ICN/BkN,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,kBAAAC,YAAA,gBAAGJ,CAAH,qJAYPN,GAIO,SAAAvB,GAAK,OAAIA,EAAM9B,MAAMa,YAgBnBmU,GAZW,SAAAlT,GAAK,OAC7BmC,EAAAtP,EAAAuP,cAAC+Q,GAAD,KACEhR,EAAAtP,EAAAuP,cAACN,GAAA,EAAD,CAAMO,GAAE,MAAAlQ,OAAQ6N,EAAMzI,SAAd,KAAApF,OAA0B6N,EAAM9H,KACrC8H,EAAMoT,aADT,WACsD,IAAvBpT,EAAMoT,aAAqB,IAAM,MAEhEjR,EAAAtP,EAAAuP,cAACN,GAAA,EAAD,CAAMO,GAAE,MAAAlQ,OAAQ6N,EAAMzI,WAAtB,MAAsCyI,EAAMzI,UAC5C4K,EAAAtP,EAAAuP,cAAA,kBACAD,EAAAtP,EAAAuP,cAACiR,GAAD,CAAQ9c,SAAUyJ,EAAMsT,QAAUtT,EAAMsT,OAAO/c,WAC/C4L,EAAAtP,EAAAuP,cAAA,YAAOnR,IAAO+O,EAAMuT,SAASC,aC5B3B/P,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,mBAAAC,YAAA,eAAGJ,CAAH,iGAIc,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SA2CjCyU,GAtBK,SAAA3P,GAAA,IAClBqI,EADkBrI,EAClBqI,IACAD,EAFkBpI,EAElBoI,MACApR,EAHkBgJ,EAGlBhJ,KACAsR,EAJkBtI,EAIlBsI,KACAgH,EALkBtP,EAKlBsP,aACAM,EANkB5P,EAMlB4P,aACGC,EAPejhB,OAAAsT,GAAA,EAAAtT,CAAAoR,EAAA,oEASlB3B,EAAAtP,EAAAuP,cAACwR,GAAD,KACEzR,EAAAtP,EAAAuP,cAACyR,GAADnhB,OAAAwT,OAAA,CACEiG,IAAKA,EACLD,MAAOA,EACPpR,KAAMA,EACNwU,KAAMoE,GACFC,IA/BY,SAAA3T,GACpB,OAAQA,EAAMlF,MACZ,IAAK,OACH,OAAOqH,EAAAtP,EAAAuP,cAAC0R,GAAD,KAAqB9T,EAAMmM,KAEpC,IAAK,OACH,OAAInM,EAAM0T,aACDvR,EAAAtP,EAAAuP,cAAC2R,GAAD,KAAsB/T,EAAMoM,MAE9BjK,EAAAtP,EAAAuP,cAAC0R,GAAD,KAAqB9T,EAAMoM,OAwBnC4H,CAAc,CAAElZ,OAAMqR,MAAKC,OAAMsH,iBAClCvR,EAAAtP,EAAAuP,cAAC6R,GAADvhB,OAAAwT,OAAA,CAAmBkN,aAAcA,GAAkBO,MC7CjDlQ,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,gBAAAC,YAAA,YAAGJ,CAAH,mDAGS,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMkB,aAe5B8U,GAZF,SAAApQ,GAAA,IAAG5L,EAAH4L,EAAG5L,GAAIgX,EAAPpL,EAAOoL,MAAOT,EAAd3K,EAAc2K,MAAO0F,EAArBrQ,EAAqBqQ,SAAU7E,EAA/BxL,EAA+BwL,KAAS8E,EAAxC1hB,OAAAsT,GAAA,EAAAtT,CAAAoR,EAAA,iDACX3B,EAAAtP,EAAAuP,cAACiS,GAAD,KACElS,EAAAtP,EAAAuP,cAACkS,GAAD,CAAmBpc,GAAIA,EAAIgX,MAAOA,EAAOT,MAAOA,IAChDtM,EAAAtP,EAAAuP,cAACmS,GAAD7hB,OAAAwT,OAAA,CACEwN,aAAcpE,EACdpX,GAAIA,EACJkb,aAAce,EAAWA,EAASxgB,OAAS,GACvCygB,MCdJI,GAAO3S,KAAO4S,GAAV1S,WAAA,CAAAC,YAAA,OAAAC,YAAA,gBAAGJ,CAAH,kDAEkB,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SAUlC0V,GANM,SAAA1U,GAAK,OACxBmC,EAAAtP,EAAAuP,cAACoS,GAAD,KACErS,EAAAtP,EAAAuP,cAACuS,GAAS3U,KCRR4U,GAAM/S,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,MAAAC,YAAA,YAAGJ,CAAH,6HAGa,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QAIrB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMkB,aAS5ByV,GANa,kBAC1B1S,EAAAtP,EAAAuP,cAACwS,GAAD,KACEzS,EAAAtP,EAAAuP,cAAC+D,GAAD,QCZE1C,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,iBAAAC,YAAA,YAAGJ,CAAH,qMACTzB,GAEA,SAAAJ,GAAK,OAAIA,EAAMmU,UAAY,oBACT,SAAAnU,GAAK,OAAIA,EAAM9B,MAAMc,QAGrB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMkB,YAEhC,SAAAY,GAAK,OAAIA,EAAM9B,MAAMa,WAG1B,SAAAiB,GAAK,OAAKA,EAAMmU,UAAY,qBAYnBW,GALD,SAAAhR,GAAkB,IAAfqQ,EAAerQ,EAAfqQ,SACT9f,EAAU8f,EAAW,cAAgB,0BAC3C,OAAOhS,EAAAtP,EAAAuP,cAAC2S,GAAD,CAASZ,SAAUA,GAAW9f,ICnBjCqd,GAAO7P,KAAO8P,GAAV5P,WAAA,CAAAC,YAAA,kBAAAC,YAAA,YAAGJ,CAAH,yJAEY,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SA0C5BgW,iNA9BbC,UAAY,WAAM,IAAApJ,EACe1B,EAAKnK,MAA5BzJ,EADQsV,EACRtV,SAAUgB,EADFsU,EACEtU,SAClB,OAAIhB,EAAiB4T,EAAKnK,MAAMkV,aAAa3e,GACtC4T,EAAKnK,MAAMmV,WAAW5d,MAe/B6d,SAAW,kBACTjL,EAAKnK,MAAMhF,MAAMgD,IAAI,SAACrJ,EAAMyM,GAAP,OACnBe,EAAAtP,EAAAuP,cAACiT,GAAD3iB,OAAAwT,OAAA,CAAcuB,IAAKrG,GAAWzM,4FAbhCH,KAAKygB,uDAGY3K,EAAWC,EAAWC,GAErChW,KAAKwL,MAAMzI,WAAa+S,EAAU/S,UAClC/C,KAAKwL,MAAMzJ,WAAa+T,EAAU/T,UAElC/B,KAAKygB,6CASP,OAAIzgB,KAAKwL,MAAMhD,WAAmBmF,EAAAtP,EAAAuP,cAACkT,GAAD,MAC7B9gB,KAAKwL,MAAMhF,OAAqC,IAA5BxG,KAAKwL,MAAMhF,MAAMrH,OACnCwO,EAAAtP,EAAAuP,cAACmT,GAAD,KAAO/gB,KAAK4gB,YAD4CjT,EAAAtP,EAAAuP,cAACoT,GAAD,aA1B5CvQ,IAAMC,WCVvBjC,GAAqB,CAAEkS,W1FUH,eAAC5d,EAADjE,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAY,GAAZ,sBAAAwQ,EAAApR,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAmB,SAAAC,EAAMuJ,GAAN,IAAAtB,EAAA,OAAApI,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAC3C4I,EAASzB,GADkCrH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGrByD,EAASI,GAHY,OAGnCyD,EAHmCxH,EAAAU,KAIzCoI,EAASvB,EAAkBC,IAJcxH,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAuX,GAAAvX,EAAA,SAMzC8I,EAASrB,EAAezH,EAAAuX,KANiB,yBAAAvX,EAAAe,SAAAxB,EAAAyB,KAAA,YAAnB,gBAAAC,GAAA,OAAAqP,EAAApP,MAAAF,KAAAlB,YAAA,I0FVe4hB,a1FoBb,SAAA3e,GAAQ,sBAAA+U,EAAA5Y,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAA+B,EAAMyH,GAAN,IAAAtB,EAAA,OAAApI,EAAAC,EAAAU,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cACtC4I,EAASzB,GAD6B7F,EAAAvB,KAAA,EAAAuB,EAAAtB,KAAA,EAGhB+D,EAAWlB,GAHK,OAG9ByE,EAH8BhG,EAAAd,KAIpCoI,EAASvB,EAAkBC,IAJShG,EAAAtB,KAAA,gBAAAsB,EAAAvB,KAAA,EAAAuB,EAAA+V,GAAA/V,EAAA,SAMpCsH,EAASrB,EAAejG,EAAA+V,KANY,yBAAA/V,EAAAT,SAAAM,EAAAL,KAAA,YAAJ,gBAAAkB,GAAA,OAAA4V,EAAA5W,MAAAF,KAAAlB,YAAA,K0FbrBmiB,GALWtV,YAPK,SAAApE,GAAK,MAAK,CACvCf,MAAOe,EAAMf,MAAMJ,MACnBoC,WAAYjB,EAAMf,MAAMgC,aAOxBiG,GAFwB9C,CAGxB6U,ICVIvR,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,gBAAAC,YAAA,gBAAGJ,CAAH,iLAES,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SAkB5B0W,GANQ,SAAA1V,GAAK,OAC1BmC,EAAAtP,EAAAuP,cAACuT,GAAD,KACExT,EAAAtP,EAAAuP,cAACuS,GAADjiB,OAAAwT,OAAA,GAAUlG,EAAV,CAAiBsP,MAAI,OChBnBxF,GAASjI,KAAOkI,OAAVhI,WAAA,CAAAC,YAAA,uBAAAC,YAAA,gBAAGJ,CAAH,wHACRN,GAOO,SAAAvB,GAAK,OAAIA,EAAM9B,MAAMY,aAQjB8W,GAJM,SAAA5V,GAAK,OACxBmC,EAAAtP,EAAAuP,cAACyT,GAAD,CAAQ/S,QAAS9C,EAAM8C,SAAvB,WCbIW,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,qBAAAC,YAAA,eAAGJ,CAAH,kLAGS,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QACvC,SAAAgB,GAAK,OAAIA,EAAM8V,OAAS,8BAEN,SAAA9V,GAAK,OAAIA,EAAM9B,MAAMkB,YAEhC,SAAAY,GAAK,OAAIA,EAAM9B,MAAMa,YA2BjBgX,iNAlBbrd,WAAa,kBAAMyR,EAAKnK,MAAMgW,+FAG5B,OACE7T,EAAAtP,EAAAuP,cAAC6T,GAAD,CAASH,OAAQthB,KAAKwL,MAAM/M,OAC1BkP,EAAAtP,EAAAuP,cAAA,YAAO5N,KAAKwL,MAAMkW,MAAlB,UACA/T,EAAAtP,EAAAuP,cAAA,yBACAD,EAAAtP,EAAAuP,cAAA,YAAO5N,KAAKwL,MAAMmW,iBAAlB,aACC3hB,KAAKwL,MAAM/M,QACTuB,KAAKwL,MAAMnD,KAAK3E,KAAO1D,KAAKwL,MAAMsT,OAAOpb,IACxC1D,KAAKwL,MAAMnD,KAAKuZ,QAChBjU,EAAAtP,EAAAuP,cAACiU,GAAD,CAAcvT,QAAStO,KAAKkE,qBAZRuM,IAAMC,WCdhCjC,GAAqB,CAAE+S,kB9F8EI,iCAAAM,EAAA5jB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAM,SAAAiE,EAAOuF,EAAUkC,GAAjB,IAAAtG,EAAAjF,EAAA,OAAAL,EAAAC,EAAAU,KAAA,SAAA0D,GAAA,cAAAA,EAAAxD,KAAAwD,EAAAvD,MAAA,cACrC4I,EAAShB,GAD4BrE,EAAAxD,KAAA,EAG3ByE,EAAOsG,IAAWxD,MAAMrG,KAAxBuD,GACAjF,EAAUuL,IAAWhB,KAArBvK,MAJ2BgE,EAAAvD,KAAA,EAK7BgF,EAAWR,EAAIjF,GALc,OAMnCqJ,EAT+B,CAAExB,KAJF,sBAI6BnG,KASjCuD,IANQjB,EAAAvD,KAAA,gBAAAuD,EAAAxD,KAAA,EAAAwD,EAAA8T,GAAA9T,EAAA,SAQnCqF,EAV8B,CAAExB,KAJH,oBAI4BvF,MAUjC0B,EAAA8T,KARW,yBAAA9T,EAAA1C,SAAAwC,EAAAvC,KAAA,YAAN,gBAAA4B,EAAAO,GAAA,OAAA2f,EAAA5hB,MAAAF,KAAAlB,YAAA,K8FlElBijB,GAVCnZ,YACd6C,GACAE,YACE,KACA8C,IAI+BuB,CAAQuR,ICXrCS,GAAW3U,aAAO4E,IAAV1E,WAAA,CAAAC,YAAA,WAAAC,YAAA,gBAAGJ,CAAH,yJAGe,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QAOnB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMc,SA4BrCyX,iNAtBbC,UAAY,SAAA/O,GACQ,KAAdA,EAAEgP,UACJhP,EAAEE,iBACFsC,EAAKnK,MAAMkK,eAIfrB,YAAc,SAAAtB,GAAK,OACjBpF,EAAAtP,EAAAuP,cAACoU,GAAD9jB,OAAAwT,OAAA,CACE5B,GAAG,YACCiD,EAAMb,MAFZ,CAGEiC,YAAY,qBACZD,KAAK,IACLgO,UAAWvM,EAAKuM,wFAKlB,OAAOvU,EAAAtP,EAAAuP,cAACwI,GAAA,EAAD,CAAO9D,KAAMtS,KAAKwL,MAAM8G,KAAMjC,UAAWrQ,KAAKqU,qBAnBvB5D,IAAMC,WChBlC0R,GAAqB/U,aAAOmI,IAAVjI,WAAA,CAAAC,YAAA,mCAAAC,YAAA,YAAGJ,CAAH,kCASTgV,GAJiB,kBAC9B1U,EAAAtP,EAAAuP,cAACwU,GAAD,CAAoB9b,KAAK,UAAzB,WCHI+K,GAAahE,aAAOiE,IAAV/D,WAAA,CAAAC,YAAA,wBAAAC,YAAA,gBAAGJ,CAAH,uWACZf,GAAW,SAAU,cAGH,SAAAd,GAAK,OAAIA,EAAM9B,MAAMc,QAOjB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMe,QAKvB,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,QACjB,SAAAe,GAAK,OAAIA,EAAM9B,MAAMe,OAAS,OAgC3C6X,iNAdb9d,cAAgB,SAAAM,GAAO,OAAI6Q,EAAKnK,MAAM+W,qBAAqBzd,MAE3D4Q,SAAW,kBAAMC,EAAKnK,MAAM2K,aAAaR,EAAKnR,0FAG5C,OACEmJ,EAAAtP,EAAAuP,cAAC4U,GAAD,CAAY9M,SAAU1V,KAAK0V,YACzB/H,EAAAtP,EAAAuP,cAAC6U,GAAD,CAAqBnQ,KAAK,UAAUoD,SAAU1V,KAAK0V,aACnD/H,EAAAtP,EAAAuP,cAAC8U,GAAD,cATkBjS,IAAMC,WCnC1BjC,GAAqB,CAAE8T,qBlGkGO,SAAAzd,GAAO,sBAAA6d,EAAAzkB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAwE,EAAOgF,EAAUkC,GAAjB,IAAA7J,EAAA1B,EAAAG,EAAA,OAAAR,EAAAC,EAAAU,KAAA,SAAAiE,GAAA,cAAAA,EAAA/D,KAAA+D,EAAA9D,MAAA,cAC7C4I,EAASf,GADoC/D,EAAA/D,KAAA,EAG/BkB,EAAS6J,IAAWxD,MAAMrG,KAA9BuD,GACAjF,EAAUuL,IAAWhB,KAArBvK,MAJmCuE,EAAA9D,KAAA,EAKxBsF,EAAcrE,EAAM2E,EAASrG,GALL,OAKrCG,EALqCoE,EAAAtD,KAM3CoI,EAASd,EAAqBpI,IANaoE,EAAA9D,KAAA,iBAAA8D,EAAA/D,KAAA,GAAA+D,EAAAuT,GAAAvT,EAAA,SAQ3C8E,EAViC,CAAExB,KAJH,uBAI+BvF,MAUpCiC,EAAAuT,KARgB,yBAAAvT,EAAAjD,SAAA+C,EAAA9C,KAAA,aAAJ,gBAAAoC,EAAAC,GAAA,OAAAsgB,EAAAziB,MAAAF,KAAAlB,YAAA,KkGtF5B8jB,GAVCha,YACd4N,aAAU,CAAEzN,KAAM,YAClB4C,YACE,KACA8C,IAIyBuB,CAAQsS,ICZ/BO,GAAYxV,KAAOe,KAAVb,WAAA,CAAAC,YAAA,YAAAC,YAAA,YAAGJ,CAAH,+BAEJ,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMa,YASjBuY,GANgB,SAAAtX,GAAK,OAClCmC,EAAAtP,EAAAuP,cAACiV,GAAD,KACGpmB,IAAO+O,EAAMuT,SAASC,YCLrB/P,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,qBAAAC,YAAA,eAAGJ,CAAH,yEAEgB,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,SAuBnCuY,iNAjBb/d,cAAgB,kBAAM2Q,EAAKnK,MAAMwX,qBAAqBrN,EAAKnK,MAAM9H,+EAG/D,OACEiK,EAAAtP,EAAAuP,cAACqV,GAAD,KACEtV,EAAAtP,EAAAuP,cAACiR,GAAD,CAAQ9c,SAAU/B,KAAKwL,MAAMsT,QAAU9e,KAAKwL,MAAMsT,OAAO/c,WACzD4L,EAAAtP,EAAAuP,cAACsV,GAAD,CAAwBnE,QAAS/e,KAAKwL,MAAMuT,UAC3C/e,KAAKwL,MAAM/M,QACTuB,KAAKwL,MAAMnD,KAAK3E,KAAO1D,KAAKwL,MAAMsT,OAAOpb,IACxC1D,KAAKwL,MAAMnD,KAAKuZ,QAChBjU,EAAAtP,EAAAuP,cAACiU,GAAD,CAAcvT,QAAStO,KAAKgF,wBAXZyL,IAAMC,WCP5BjC,GAAqB,CAAEuU,qBrGsHO,SAAAle,GAAO,sBAAAqe,EAAAjlB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAA8E,EAAO0E,EAAUkC,GAAjB,IAAA7J,EAAA1B,EAAAG,EAAA,OAAAR,EAAAC,EAAAU,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAC7C4I,EAASb,GADoC5D,EAAApE,KAAA,EAG/BkB,EAAS6J,IAAWxD,MAAMrG,KAA9BuD,GACAjF,EAAUuL,IAAWhB,KAArBvK,MAJmC4E,EAAAnE,KAAA,EAKxB8F,EAAc7E,EAAM2E,EAASrG,GALL,OAKrCG,EALqCyE,EAAA3D,KAM3CoI,EAASZ,EAAqBtI,IANayE,EAAAnE,KAAA,iBAAAmE,EAAApE,KAAA,GAAAoE,EAAAkT,GAAAlT,EAAA,SAQ3CyE,EAViC,CAAExB,KAJH,uBAI+BvF,MAUpCsC,EAAAkT,KARgB,yBAAAlT,EAAAtD,SAAAqD,EAAApD,KAAA,aAAJ,gBAAA4C,EAAAM,GAAA,OAAAigB,EAAAjjB,MAAAF,KAAAlB,YAAA,KqG1G5BskB,GAVCxa,YACd6C,GACAE,YACE,KACA8C,IAI2BuB,CAAQ+S,ICZjChD,GAAU1S,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,UAAAC,YAAA,YAAGJ,CAAH,mBAUEgW,GANQ,SAAA7X,GAAK,OAC1BmC,EAAAtP,EAAAuP,cAAC0V,GAAD,KACE3V,EAAAtP,EAAAuP,cAAC2Q,GAAD,KAAW/S,EAAMwI,YCLf/E,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,mBAAAC,YAAA,gBAAGJ,CAAH,8IACS,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QAErB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMkB,aAgB5B2Y,GAPC,SAAAjU,GAAA,IAAGhP,EAAHgP,EAAGhP,KAAS6e,EAAZjhB,OAAAsT,GAAA,EAAAtT,CAAAoR,EAAA,iBACd3B,EAAAtP,EAAAuP,cAAC4V,GAAD,KACE7V,EAAAtP,EAAAuP,cAAC6V,GAA2BtE,GAC5BxR,EAAAtP,EAAAuP,cAAC8V,GAAD,KAAiBpjB,KChBf0f,GAAO3S,KAAO4S,GAAV1S,WAAA,CAAAC,YAAA,OAAAC,YAAA,gBAAGJ,CAAH,wBAUKsW,GANS,SAAAnY,GAAK,OAC3BmC,EAAAtP,EAAAuP,cAACgW,GAAD,KACEjW,EAAAtP,EAAAuP,cAACiW,GAAYrY,KCNX0R,GAAO7P,KAAO8P,GAAV5P,WAAA,CAAAC,YAAA,oBAAAC,YAAA,YAAGJ,CAAH,sCAgBKyW,GAHK,SAAAxU,GAAA,IAAGqQ,EAAHrQ,EAAGqQ,SAAH,OAClBA,GAAYhS,EAAAtP,EAAAuP,cAACmW,GAAD,KATM,SAAApE,GAAQ,OAC1BA,EAASnW,IAAI,SAAC1E,EAAS8H,GAAV,OACXe,EAAAtP,EAAAuP,cAACoW,GAAD9lB,OAAAwT,OAAA,CAAiBuB,IAAKrG,GAAW9H,MAOhBmf,CAJA,SAAAtE,GAAQ,OAC3BA,EAASuE,KAAK,SAAC7lB,EAAG8lB,GAAJ,OAAU,IAAIC,KAAKD,EAAEpF,SAAW,IAAIqF,KAAK/lB,EAAE0gB,WAG1BsF,CAAa1E,MCJ/B2E,GAVkB,SAAAhV,GAAA,IAAGqQ,EAAHrQ,EAAGqQ,SAAH,OAC/BhS,EAAAtP,EAAAuP,cAAAD,EAAAtP,EAAAsR,SAAA,KACIgQ,GAAgC,IAApBA,EAASxgB,OAGrBwO,EAAAtP,EAAAuP,cAAC2W,GAAD,CAAa5E,SAAUA,IAFvBhS,EAAAtP,EAAAuP,cAACoT,GAAD,CAAOrB,UAAQ,MCgCN6E,oMA7BXxkB,KAAKwL,MAAMiZ,UAAUzkB,KAAKwL,MAAM9H,+CAGfoS,EAAWC,EAAWC,GACnChW,KAAKwL,MAAMrL,OAAS2V,EAAU3V,MAA4B,OAApBH,KAAKwL,MAAMrL,MACnDH,KAAKwL,MAAMN,QAAQwZ,0CAId,IACCvkB,EAASH,KAAKwL,MAAdrL,KACR,OAAIH,KAAKwL,MAAMhD,WAAmBmF,EAAAtP,EAAAuP,cAACkT,GAAD,MAC7B3gB,EAEHwN,EAAAtP,EAAAuP,cAAAD,EAAAtP,EAAAsR,SAAA,KACEhC,EAAAtP,EAAAuP,cAAC+W,GAAmBxkB,GACpBwN,EAAAtP,EAAAuP,cAACgX,GAAD,CACElhB,GAAIvD,EAAKuD,GACTge,MAAOvhB,EAAKuhB,MACZC,iBAAkBxhB,EAAKwhB,iBACvB7C,OAAQ3e,EAAK2e,SAEd9e,KAAKwL,MAAM/M,OAASkP,EAAAtP,EAAAuP,cAACiX,GAAD,CAAsBnhB,GAAIvD,EAAKuD,KACpDiK,EAAAtP,EAAAuP,cAACkX,GAAD,CAA0BnF,SAAUxf,EAAKwf,YAX3BhS,EAAAtP,EAAAuP,cAACoT,GAAD,aAdGvQ,IAAMC,WCGzBjC,GAAqB,CAAEgW,U5GoCJ,SAAA/gB,GAAE,sBAAAqhB,EAAA7mB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAgD,EAAMwG,GAAN,IAAA3H,EAAA,OAAA/B,EAAAC,EAAAU,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAC7B4I,EAASpB,GADoBlF,EAAAvC,KAAA,EAAAuC,EAAAtC,KAAA,EAGRoE,EAAQI,GAHA,OAGrBvD,EAHqBqB,EAAA9B,KAI3BoI,EAASnB,EAAiBxG,IAJCqB,EAAAtC,KAAA,gBAAAsC,EAAAvC,KAAA,EAAAuC,EAAA+U,GAAA/U,EAAA,SAM3BsG,EAR6B,CAAExB,KAJH,mBAI2BvF,MAQhCS,EAAA+U,KANI,yBAAA/U,EAAAzB,SAAAuB,EAAAtB,KAAA,YAAJ,gBAAAmB,GAAA,OAAA4jB,EAAA7kB,MAAAF,KAAAlB,YAAA,K4GxBZkmB,GAVCpc,YACd6C,GACAE,YAT6B,SAAApE,GAAK,MAAK,CACvCiB,WAAYjB,EAAMf,MAAMgC,WACxBrI,KAAMoH,EAAMf,MAAMrG,OAShBsO,IAIwBuB,CAAQwU,IChB9B/L,GAAmBpL,aAAOiI,IAAV/H,WAAA,CAAAC,YAAA,mBAAAC,YAAA,gBAAGJ,CAAH,oFAWP4X,GAJiB,kBAC9BtX,EAAAtP,EAAAuP,cAACsX,GAAD,CAAkBpV,GAAIxC,KAAMO,GAAG,eAA/B,gBCTImS,GAAO3S,aAAOsB,IAAVpB,WAAA,CAAAC,YAAA,OAAAC,YAAA,YAAGJ,CAAH,4HAIC,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMY,YAMH,SAAAkB,GAAK,OAAIA,EAAM9B,MAAMe,SAanC0a,GATiB,SAAA7V,GAAkB,IAAfvM,EAAeuM,EAAfvM,SAC3BqiB,EAAqB,QAAbriB,EACd,OACE4K,EAAAtP,EAAAuP,cAACyX,GAAD,CAAMC,MAAOF,EAAOvX,GAAIuX,EAAQ,IAAH,MAAAznB,OAAeoF,IACzCA,IClBDsM,GAAShC,KAAOe,KAAVb,WAAA,CAAAC,YAAA,SAAAC,YAAA,gBAAGJ,CAAH,gEACRtB,GAKO,SAAAP,GAAK,OAAIA,EAAM9B,MAAMa,YAKjBgb,GAFmB,kBAAM5X,EAAAtP,EAAAuP,cAAC4X,GAAD,oBCPlCC,GAAepY,KAAOuL,IAAVrL,WAAA,CAAAC,YAAA,eAAAC,YAAA,eAAGJ,CAAH,yCAiBHqY,GAPa,kBAC1B/X,EAAAtP,EAAAuP,cAAC6X,GAAD,KACE9X,EAAAtP,EAAAuP,cAAC+X,GAAD,MACc,CAAE,OAAFhoB,OAAAO,OAAAma,GAAA,EAAAna,CAAY8Y,KAPjBxN,IAAI,SAACzG,EAAU6J,GAAX,OACbe,EAAAtP,EAAAuP,cAACgY,GAAD,CAAyB3S,IAAKrG,EAAO7J,SAAUA,QCR7CkM,GAAU5B,KAAOwY,MAAVtY,WAAA,CAAAC,YAAA,qBAAAC,YAAA,YAAGJ,CAAH,6KAKS,SAAA7B,GAAK,OAAIA,EAAM9B,MAAMc,QAErB,SAAAgB,GAAK,OAAIA,EAAM9B,MAAMkB,aCP5Bkb,GAFUra,GDgBT,SAAA6D,GAAA,IAAG7Q,EAAH6Q,EAAG7Q,MAAH,OACdkP,EAAAtP,EAAAuP,cAACmY,GAAD,KACGtnB,GAASkP,EAAAtP,EAAAuP,cAACoY,GAAD,MACVrY,EAAAtP,EAAAuP,cAACqY,GAAD,SEbEhX,GAAU5B,KAAO6C,IAAV3C,WAAA,CAAAC,YAAA,gBAAAC,YAAA,gBAAGJ,CAAH,iJA8CE6Y,GA/BF,kBACXvY,EAAAtP,EAAAuP,cAACuY,GAAD,KACExY,EAAAtP,EAAAuP,cAACwY,GAAD,KACEzY,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOzI,UAAWwI,KAClBlL,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOwM,OAAK,EAACvM,KAAK,IAAI1I,UAAW4Q,KACjCtT,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CACEwM,OAAK,EACLvM,KAAK,eACLsN,OAAQ,SAAA/W,GAAA,IAAG0J,EAAH1J,EAAG0J,MAAH,OACNrL,EAAAtP,EAAAuP,cAAC0Y,GAAD,CAAmBvjB,SAAUiW,EAAME,OAAOnW,cAG9C4K,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CACEwM,OAAK,EACLvM,KAAK,eACLsN,OAAQ,SAAAvP,GAAA,IAAGkC,EAAHlC,EAAGkC,MAAH,OACNrL,EAAAtP,EAAAuP,cAAC0Y,GAAD,CAAmBvkB,SAAUiX,EAAME,OAAOnX,cAG9C4L,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CACEwM,OAAK,EACLvM,KAAK,qBACLsN,OAAQ,SAAAtB,GAAA,IAAG/L,EAAH+L,EAAG/L,MAAO9N,EAAV6Z,EAAU7Z,QAAV,OACNyC,EAAAtP,EAAAuP,cAAC2Y,GAAD,CAAqB7iB,GAAIsV,EAAME,OAAO/Y,KAAM+K,QAASA,QAI3DyC,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOzI,UAAWyV,OClBPU,GAnBH,SAAAhb,GAAK,OACfmC,EAAAtP,EAAAuP,cAAC6Y,GAAA,EAAD,CAAe/c,MAAOA,GAAM8B,EAAM/C,OAChCkF,EAAAtP,EAAAuP,cAAC8Y,GAAA,EAAD,CAAQxb,QAASA,IACfyC,EAAAtP,EAAAuP,cAAAD,EAAAtP,EAAAsR,SAAA,KACEhC,EAAAtP,EAAAuP,cAAC+Y,GAAD,MACAhZ,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOzI,UAAWN,KAClBpC,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOzI,UAAWM,KAClBhD,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOzI,UAAWQ,KAClBlD,EAAAtP,EAAAuP,cAACgZ,GAAA,EAAD,KACEjZ,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOC,KAAK,SAAS1I,UAAWoG,KAChC9I,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOC,KAAK,UAAU1I,UAAW0G,KACjCpJ,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOC,KAAK,cAAc1I,UAAWkH,KACrC5J,EAAAtP,EAAAuP,cAACkL,GAAA,EAAD,CAAOC,KAAK,IAAI1I,UAAW6V,UCnBtBW,GAFMlb,YAFG,SAAApE,GAAK,MAAK,CAAEkB,KAAMlB,EAAMmC,MAAMjB,OAEjCkD,CAAyB6a,ICO1BM,QACW,cAA7BlpB,OAAOC,SAASkpB,UAEe,UAA7BnpB,OAAOC,SAASkpB,UAEhBnpB,OAAOC,SAASkpB,SAAS/N,MACvB,2DCTNgO,IAASX,OACP1Y,EAAAtP,EAAAuP,cAACqZ,EAAA,EAAD,CAAUld,MAAOA,IACf4D,EAAAtP,EAAAuP,cAACsZ,GAAD,OAEFC,SAASC,eAAe,SDoHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.6a9aba57.chunk.js","sourcesContent":["import moment from 'moment';\r\n\r\nmoment.updateLocale('en', {\r\n  relativeTime: {\r\n    future: 'in %s',\r\n    past: '%s ago',\r\n    s:  '%ds',\r\n    ss: '%ds',\r\n    m:  '1m',\r\n    mm: '%dm',\r\n    h:  '1h',\r\n    hh: '%dh',\r\n    d:  '1d',\r\n    dd: '%dd',\r\n    M:  '1M',\r\n    MM: '%dM',\r\n    y:  '1y',\r\n    yy: '%dY'\r\n  }\r\n});\r\n","const baseUrl =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:8080/api'\r\n    : `${window.location.origin}/api`;\r\n\r\nconst methods = {\r\n  get: async function (endpoint, token = null) {\r\n    const options = {\r\n      method: 'GET',\r\n      headers: {\r\n        ...(token && { Authorization: `Bearer ${token}` })\r\n      }\r\n    };\r\n\r\n    const response = await fetch(`${baseUrl}/${endpoint}`, options);\r\n    const json = await response.json();\r\n\r\n    if (!response.ok) throw Error(json.message);\r\n\r\n    return json;\r\n  },\r\n\r\n  post: async function (endpoint, body, token = null) {\r\n    const options = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` })\r\n      },\r\n      body: JSON.stringify(body)\r\n    };\r\n\r\n    const response = await fetch(`${baseUrl}/${endpoint}`, options);\r\n    const json = await response.json();\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 422) {\r\n        json.errors.forEach(error => {\r\n          throw Error(`${error.param} ${error.msg}`);\r\n        });\r\n      }\r\n\r\n      throw Error(json.message);\r\n    }\r\n\r\n    return json;\r\n  },\r\n\r\n  delete: async function (endpoint, token = null) {\r\n    const options = {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` })\r\n      }\r\n    };\r\n\r\n    const response = await fetch(`${baseUrl}/${endpoint}`, options);\r\n    const json = await response.json();\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 401) throw Error('unauthorized');\r\n      throw Error(json.message);\r\n    }\r\n\r\n    return json;\r\n  }\r\n};\r\n\r\nexport async function login (username, password) {\r\n  const json = await methods.post('login', { username, password });\r\n  return json.token;\r\n}\r\n\r\nexport async function signup (username, password, email) {\r\n  const json = await methods.post('register', { username, password, email });\r\n  return json.success;\r\n}\r\n\r\nexport async function getPosts (category) {\r\n  return await methods.get(`posts/${category}`);\r\n}\r\n\r\nexport async function getProfile (username) {\r\n  return await methods.get(`user/${username}`);\r\n}\r\n\r\nexport async function getPost (id) {\r\n  return await methods.get(`post/${id}`);\r\n}\r\n\r\nexport async function createPost (body, token) {\r\n  return await methods.post('posts', body, token);\r\n}\r\n\r\nexport async function deletePost (id, token) {\r\n  return await methods.delete(`post/${id}`, token);\r\n}\r\n\r\nexport async function createComment (post, comment, token) {\r\n  return await methods.post(`post/${post}`, comment, token);\r\n}\r\n\r\nexport async function deleteComment (post, comment, token) {\r\n  return await methods.delete(`post/${post}/${comment}`, token);\r\n}\r\n\r\nexport async function castVote (id, vote, token) {\r\n  const voteTypes = {\r\n    '1': 'upvote',\r\n    '0': 'unvote',\r\n    '-1': 'downvote'\r\n  };\r\n\r\n  const voteType = voteTypes[vote];\r\n\r\n  return await methods.get(`post/${id}/${voteType}`, token);\r\n}\r\n","import {\r\n  getPosts,\r\n  getProfile,\r\n  getPost,\r\n  createPost,\r\n  deletePost,\r\n  createComment,\r\n  deleteComment,\r\n  castVote\r\n} from '../util/api';\r\n\r\nexport const FETCH_POSTS_REQUEST = 'FETCH_POSTS_REQUEST';\r\nexport const FETCH_POSTS_SUCCESS = 'FETCH_POSTS_SUCCESS';\r\nexport const FETCH_POSTS_ERROR = 'FETCH_POSTS_ERROR';\r\n\r\nconst fetchPostsRequest = { type: FETCH_POSTS_REQUEST };\r\nconst fetchPostsSuccess = posts => ({ type: FETCH_POSTS_SUCCESS, posts });\r\nconst fetchPostsError = error => ({ type: FETCH_POSTS_ERROR, error });\r\n\r\nexport const fetchPosts = (category = '') => async dispatch => {\r\n  dispatch(fetchPostsRequest);\r\n  try {\r\n    const posts = await getPosts(category);\r\n    dispatch(fetchPostsSuccess(posts));\r\n  } catch (error) {\r\n    dispatch(fetchPostsError(error));\r\n  }\r\n};\r\n\r\nexport const fetchProfile = username => async dispatch => {\r\n  dispatch(fetchPostsRequest);\r\n  try {\r\n    const posts = await getProfile(username);\r\n    dispatch(fetchPostsSuccess(posts));\r\n  } catch (error) {\r\n    dispatch(fetchPostsError(error));\r\n  }\r\n};\r\n\r\nexport const FETCH_POST_REQUEST = 'FETCH_POST_REQUEST';\r\nexport const FETCH_POST_SUCCESS = 'FETCH_POST_SUCCESS';\r\nexport const FETCH_POST_ERROR = 'FETCH_POST_ERROR';\r\n\r\nconst fetchPostRequest = { type: FETCH_POST_REQUEST };\r\nconst fetchPostSuccess = post => ({ type: FETCH_POST_SUCCESS, post });\r\nconst fetchPostError = error => ({ type: FETCH_POST_ERROR, error });\r\n\r\nexport const fetchPost = id => async dispatch => {\r\n  dispatch(fetchPostRequest);\r\n  try {\r\n    const post = await getPost(id);\r\n    dispatch(fetchPostSuccess(post));\r\n  } catch (error) {\r\n    dispatch(fetchPostError(error));\r\n  }\r\n};\r\n\r\nexport const CREATE_POST_REQUEST = 'CREATE_POST_REQUEST';\r\nexport const CREATE_POST_SUCCESS = 'CREATE_POST_SUCCESS';\r\nexport const CREATE_POST_ERROR = 'CREATE_POST_ERROR';\r\n\r\nconst createPostRequest = { type: CREATE_POST_REQUEST };\r\nconst createPostSuccess = post => ({ type: CREATE_POST_SUCCESS, post });\r\nconst createPostError = error => ({ type: CREATE_POST_ERROR, error });\r\n\r\nexport const attemptCreatePost = post => async (dispatch, getState) => {\r\n  dispatch(createPostRequest);\r\n  try {\r\n    const { token } = getState().auth;\r\n    const newPost = await createPost(post, token);\r\n    dispatch(createPostSuccess(newPost));\r\n  } catch (error) {\r\n    dispatch(createPostError(error));\r\n  }\r\n};\r\n\r\nexport const DELETE_POST_REQUEST = 'DELETE_POST_REQUEST';\r\nexport const DELETE_POST_SUCCESS = 'DELETE_POST_SUCCESS';\r\nexport const DELETE_POST_ERROR = 'DELETE_POST_ERROR';\r\n\r\nconst deletePostRequest = { type: DELETE_POST_REQUEST };\r\nconst deletePostSuccess = post => ({ type: DELETE_POST_SUCCESS, post });\r\nconst deletePostError = error => ({ type: DELETE_POST_ERROR, error });\r\n\r\nexport const attemptDeletePost = () => async (dispatch, getState) => {\r\n  dispatch(deletePostRequest);\r\n  try {\r\n    const { id } = getState().posts.post;\r\n    const { token } = getState().auth;\r\n    await deletePost(id, token);\r\n    dispatch(deletePostSuccess(id));\r\n  } catch (error) {\r\n    dispatch(deletePostError(error));\r\n  }\r\n};\r\n\r\nexport const CREATE_COMMENT_REQUEST = 'CREATE_COMMENT_REQUEST';\r\nexport const CREATE_COMMENT_SUCCESS = 'CREATE_COMMENT_SUCCESS';\r\nexport const CREATE_COMMENT_ERROR = 'CREATE_COMMENT_ERROR';\r\n\r\nconst createCommentRequest = { type: CREATE_COMMENT_REQUEST };\r\nconst createCommentSuccess = post => ({ type: CREATE_COMMENT_SUCCESS, post });\r\nconst createCommentError = error => ({ type: CREATE_COMMENT_ERROR, error });\r\n\r\nexport const attemptCreateComment = comment => async (dispatch, getState) => {\r\n  dispatch(createCommentRequest);\r\n  try {\r\n    const { id: post } = getState().posts.post;\r\n    const { token } = getState().auth;\r\n    const json = await createComment(post, comment, token);\r\n    dispatch(createCommentSuccess(json));\r\n  } catch (error) {\r\n    dispatch(createCommentError(error));\r\n  }\r\n};\r\n\r\nexport const DELETE_COMMENT_REQUEST = 'DELETE_COMMENT_REQUEST';\r\nexport const DELETE_COMMENT_SUCCESS = 'DELETE_COMMENT_SUCCESS';\r\nexport const DELETE_COMMENT_ERROR = 'DELETE_COMMENT_ERROR';\r\n\r\nconst deleteCommentRequest = { type: DELETE_COMMENT_REQUEST };\r\nconst deleteCommentSuccess = post => ({ type: DELETE_COMMENT_SUCCESS, post });\r\nconst deleteCommentError = error => ({ type: DELETE_COMMENT_ERROR, error });\r\n\r\nexport const attemptDeleteComment = comment => async (dispatch, getState) => {\r\n  dispatch(deleteCommentRequest);\r\n  try {\r\n    const { id: post } = getState().posts.post;\r\n    const { token } = getState().auth;\r\n    const json = await deleteComment(post, comment, token);\r\n    dispatch(deleteCommentSuccess(json));\r\n  } catch (error) {\r\n    dispatch(deleteCommentError(error));\r\n  }\r\n};\r\n\r\nexport const VOTE_REQUEST = 'VOTE_REQUEST';\r\nexport const VOTE_SUCCESS = 'VOTE_SUCCESS';\r\nexport const VOTE_ERROR = 'VOTE_ERROR';\r\n\r\nconst voteRequest = { type: VOTE_REQUEST };\r\nconst voteSuccess = post => ({ type: VOTE_SUCCESS, post });\r\nconst voteError = error => ({ type: VOTE_ERROR, error });\r\n\r\nexport const attemptVote = (id, vote) => async (dispatch, getState) => {\r\n  dispatch(voteRequest);\r\n  try {\r\n    const { token } = getState().auth;\r\n    const post = await castVote(id, vote, token);\r\n    dispatch(voteSuccess(post));\r\n  } catch (error) {\r\n    dispatch(voteError(error));\r\n  }\r\n};\r\n","export const SHOW_ERROR = 'SHOW_ERROR';\r\nconst showError = error => ({ type: SHOW_ERROR, error });\r\n\r\nexport const HIDE_ERROR = 'HIDE_ERROR';\r\nconst hideError = () => ({ type: HIDE_ERROR });\r\n\r\nlet timeout;\r\nexport const showErrorWithTimeout = error => dispatch => {\r\n  dispatch(showError(error));\r\n  clearTimeout(timeout);\r\n  timeout = setTimeout(() => dispatch(hideError()), 5000);\r\n};\r\n\r\nexport const hideErrorClearTimeout = () => dispatch => {\r\n  dispatch(hideError());\r\n  clearTimeout(timeout);\r\n};\r\n","export const SHOW_SUCCESS = 'SHOW_SUCCESS';\r\n const showSuccess = success => {\r\n \r\nreturn { type: SHOW_SUCCESS, success }\r\n\r\n}\r\n\r\nexport const HIDE_SUCCESS = 'HIDE_SUCCESS';\r\nconst hideSuccess = () => ({ type: HIDE_SUCCESS });\r\n\r\nlet timeout;\r\nexport const showSuccessWithTimeout = success => dispatch => {\r\n\r\n  dispatch(showSuccess(success));\r\n  clearTimeout(timeout);\r\n  timeout = setTimeout(() => dispatch(hideSuccess()), 10000);\r\n};\r\n\r\nexport const hideSuccessClearTimeout = () => dispatch => {\r\n  dispatch(hideSuccess());\r\n  clearTimeout(timeout);\r\n};\r\n","import {\r\n  FETCH_POSTS_REQUEST,\r\n  FETCH_POSTS_SUCCESS,\r\n  FETCH_POSTS_ERROR,\r\n  FETCH_POST_REQUEST,\r\n  FETCH_POST_SUCCESS,\r\n  FETCH_POST_ERROR,\r\n  CREATE_POST_REQUEST,\r\n  CREATE_POST_SUCCESS,\r\n  CREATE_POST_ERROR,\r\n  DELETE_POST_REQUEST,\r\n  DELETE_POST_SUCCESS,\r\n  DELETE_POST_ERROR,\r\n  CREATE_COMMENT_REQUEST,\r\n  CREATE_COMMENT_SUCCESS,\r\n  CREATE_COMMENT_ERROR,\r\n  DELETE_COMMENT_REQUEST,\r\n  DELETE_COMMENT_SUCCESS,\r\n  DELETE_COMMENT_ERROR,\r\n  VOTE_REQUEST,\r\n  VOTE_SUCCESS,\r\n  VOTE_ERROR\r\n} from '../actions/posts';\r\n\r\nconst initialState = { isFetching: false, items: [] };\r\n\r\nconst updateItems = (post, items) =>\r\n  items.map(i => (i.id === post.id ? post : i));\r\n\r\nlet items;\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_POSTS_REQUEST:\r\n      return { ...state, isFetching: true, post: null, newPost: null };\r\n    case FETCH_POSTS_SUCCESS:\r\n      return { ...state, isFetching: false, items: action.posts };\r\n    case FETCH_POSTS_ERROR:\r\n      return { ...state, isFetching: false };\r\n\r\n    case FETCH_POST_REQUEST:\r\n      return { ...state, isFetching: true, newPost: null };\r\n    case FETCH_POST_SUCCESS:\r\n      return { ...state, isFetching: false, post: action.post };\r\n    case FETCH_POST_ERROR:\r\n      return { ...state, isFetching: false };\r\n\r\n    case CREATE_POST_REQUEST:\r\n      return { ...state, isFetching: true };\r\n    case CREATE_POST_SUCCESS:\r\n      return { ...state, isFetching: false, newPost: action.post };\r\n    case CREATE_POST_ERROR:\r\n      return { ...state, isFetching: false, error: action.error };\r\n\r\n    case DELETE_POST_REQUEST:\r\n      return { ...state, isDeleting: true };\r\n    case DELETE_POST_SUCCESS:\r\n      items = state.items.filter(i => i.id !== action.post);\r\n      return { ...state, isDeleting: false, items, post: null };\r\n    case DELETE_POST_ERROR:\r\n      return { ...state, isDeleting: false };\r\n\r\n    case CREATE_COMMENT_REQUEST:\r\n      return { ...state, isCommenting: true };\r\n    case CREATE_COMMENT_SUCCESS:\r\n      return { ...state, isCommenting: false, post: action.post };\r\n    case CREATE_COMMENT_ERROR:\r\n      return { ...state, isCommenting: false };\r\n\r\n    case DELETE_COMMENT_REQUEST:\r\n      return { ...state, isDeleting: true };\r\n    case DELETE_COMMENT_SUCCESS:\r\n      return { ...state, isDeleting: false, post: action.post };\r\n    case DELETE_COMMENT_ERROR:\r\n      return { ...state, isDeleting: false };\r\n\r\n    case VOTE_REQUEST:\r\n      return { ...state, isVoting: true };\r\n    case VOTE_SUCCESS:\r\n      items = updateItems(action.post, state.items);\r\n      return {\r\n        ...state,\r\n        isVoting: false,\r\n        items,\r\n        post: action.post\r\n      };\r\n    case VOTE_ERROR:\r\n      return { ...state, isVoting: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { reducer as formReducer } from 'redux-form';\r\nimport { CREATE_COMMENT_SUCCESS } from '../actions/posts';\r\n\r\nexport default formReducer.plugin({\r\n  comment: (state, action) => {\r\n    switch (action.type) {\r\n      case CREATE_COMMENT_SUCCESS:\r\n        return undefined;\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n});\r\n","import { login, signup } from '../util/api';\r\n\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_ERROR = 'LOGIN_ERROR';\r\n\r\nconst loginRequest = { type: LOGIN_REQUEST };\r\nconst loginSuccess = token => ({ type: LOGIN_SUCCESS, token });\r\nconst loginError = error => ({ type: LOGIN_ERROR, error });\r\n\r\nexport const attemptLogin = (username, password) => async dispatch => {\r\n  dispatch(loginRequest);\r\n  try {\r\n    const token = await login(username, password);\r\n    dispatch(loginSuccess(token));\r\n  } catch (error) {\r\n    dispatch(loginError(error));\r\n  }\r\n};\r\n\r\nexport const SIGNUP_REQUEST = 'SIGNUP_REQUEST';\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\r\nexport const SIGNUP_ERROR = 'SIGNUP_ERROR';\r\n\r\nconst signupRequest = { type: SIGNUP_REQUEST };\r\nconst signupSuccess = success => ({ type: SIGNUP_SUCCESS, success });\r\nconst signupError = error => ({ type: SIGNUP_ERROR, error });\r\n\r\nexport const attemptSignup = (username, password, email) => async dispatch => {\r\n  dispatch(signupRequest);\r\n  try {\r\n    const success = await signup(username, password, email);\r\n    dispatch(signupSuccess(success));\r\n  } catch (error) {\r\n    dispatch(signupError(error));\r\n  }\r\n};\r\n\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const logout = () => ({ type: LOGOUT });\r\n","import jwtDecode from 'jwt-decode';\r\nimport {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_ERROR,\r\n  SIGNUP_REQUEST,\r\n  SIGNUP_SUCCESS,\r\n  SIGNUP_ERROR,\r\n  LOGOUT\r\n} from '../actions/auth';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst user = token && jwtDecode(token).user;\r\n\r\nconst initialState = {\r\n  ...(token && { token }),\r\n  ...(user && { user })\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SIGNUP_REQUEST:\r\n    case LOGIN_REQUEST:\r\n      return { ...state, loading: true };\r\n    case LOGIN_SUCCESS:\r\n      const user = jwtDecode(action.token).user;\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        token: action.token,\r\n        user\r\n      };\r\n    \r\n    case SIGNUP_SUCCESS: \r\n       return {\r\n         success: action.success,\r\n         loading: false\r\n       }\r\n\r\n    case SIGNUP_ERROR:\r\n    case LOGIN_ERROR:\r\n      return { ...state, loading: false };\r\n\r\n    case LOGOUT:\r\n      return { ...state, token: null, user: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { TOGGLE_DARK_THEME } from '../actions/theme';\r\n\r\nconst dark = localStorage.getItem('dark') === 'true';\r\nconst initialState = { dark };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_DARK_THEME:\r\n      return { ...state, dark: !state.dark };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport form from './reducers/form';\r\nimport error from './reducers/error';\r\nimport success from './reducers/success';\r\nimport auth from './reducers/auth';\r\nimport posts from './reducers/posts';\r\nimport theme from './reducers/theme';\r\nimport authMiddleware from './middleware/auth';\r\nimport errorMiddleware from './middleware/error';\r\nimport successMiddleware from './middleware/success';\r\nimport themeMiddleware from './middleware/theme';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default createStore(\r\n  combineReducers({ form, error,success, auth, posts, theme }),\r\n  composeEnhancers(\r\n    applyMiddleware(thunk, authMiddleware, errorMiddleware,successMiddleware ,themeMiddleware)\r\n  )\r\n);\r\n","import {\r\n  FETCH_POSTS_ERROR,\r\n  FETCH_POST_ERROR,\r\n  CREATE_POST_ERROR,\r\n  DELETE_POST_ERROR,\r\n  CREATE_COMMENT_ERROR,\r\n  VOTE_ERROR\r\n} from '../actions/posts';\r\nimport { LOGIN_ERROR, SIGNUP_ERROR } from '../actions/auth';\r\nimport { HIDE_ERROR } from '../actions/error';\r\n\r\nconst initialState = null;\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_POSTS_ERROR:\r\n    case FETCH_POST_ERROR:\r\n    case CREATE_POST_ERROR:\r\n    case DELETE_POST_ERROR:\r\n    case CREATE_COMMENT_ERROR:\r\n    case VOTE_ERROR:\r\n    case LOGIN_ERROR:\r\n    case SIGNUP_ERROR:\r\n      return action.error;\r\n\r\n    case HIDE_ERROR:\r\n      return null;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","\r\n  import { SIGNUP_SUCCESS } from '../actions/auth';\r\n  import { HIDE_SUCCESS , SHOW_SUCCESS} from '../actions/success';\r\n\r\n  const initialState = null;\r\n  \r\n  export default (state = initialState, action) => {\r\n    switch (action.type) {\r\n     \r\n      case SIGNUP_SUCCESS:\r\n      case SHOW_SUCCESS:\r\n        return action.success;\r\n  \r\n      case HIDE_SUCCESS:\r\n        return null;\r\n  \r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  ","export const TOGGLE_DARK_THEME = 'TOGGLE_DARK_THEME';\r\nexport const toggleDarkTheme = () => ({ type: TOGGLE_DARK_THEME });\r\n","import { LOGIN_SUCCESS, SIGNUP_SUCCESS, LOGOUT } from '../actions/auth';\r\n\r\nexport default () => next => action => {\r\n  if (action.type === LOGIN_SUCCESS) {\r\n    localStorage.setItem('token', action.token);\r\n  } else if (action.type === LOGOUT) {\r\n    localStorage.removeItem('token');\r\n  }\r\n  next(action);\r\n};\r\n","import {\r\n  FETCH_POSTS_SUCCESS,\r\n  FETCH_POSTS_ERROR,\r\n  FETCH_POST_SUCCESS,\r\n  FETCH_POST_ERROR,\r\n  CREATE_POST_SUCCESS,\r\n  CREATE_POST_ERROR,\r\n  DELETE_POST_SUCCESS,\r\n  DELETE_POST_ERROR,\r\n  CREATE_COMMENT_SUCCESS,\r\n  CREATE_COMMENT_ERROR,\r\n  DELETE_COMMENT_SUCCESS,\r\n  DELETE_COMMENT_ERROR,\r\n  VOTE_SUCCESS,\r\n  VOTE_ERROR\r\n} from '../actions/posts';\r\nimport {\r\n  LOGIN_ERROR,\r\n  LOGIN_SUCCESS,\r\n  SIGNUP_ERROR,\r\n  SIGNUP_SUCCESS,\r\n  LOGOUT\r\n} from '../actions/auth';\r\nimport { hideErrorClearTimeout, showErrorWithTimeout } from '../actions/error';\r\n\r\nexport default store => next => action => {\r\n  next(action);\r\n  switch (action.type) {\r\n    case FETCH_POSTS_SUCCESS:\r\n    case FETCH_POST_SUCCESS:\r\n    case CREATE_POST_SUCCESS:\r\n    case DELETE_POST_SUCCESS:\r\n    case CREATE_COMMENT_SUCCESS:\r\n    case DELETE_COMMENT_SUCCESS:\r\n    case VOTE_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n    case SIGNUP_SUCCESS:\r\n    case LOGOUT:\r\n      if (store.getState().error) store.dispatch(hideErrorClearTimeout());\r\n      break;\r\n\r\n    case FETCH_POSTS_ERROR:\r\n    case FETCH_POST_ERROR:\r\n    case CREATE_POST_ERROR:\r\n    case DELETE_POST_ERROR:\r\n    case CREATE_COMMENT_ERROR:\r\n    case DELETE_COMMENT_ERROR:\r\n    case VOTE_ERROR:\r\n    case LOGIN_ERROR:\r\n    case SIGNUP_ERROR:\r\n      store.dispatch(showErrorWithTimeout(action.error));\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","\r\n  import {\r\n    SIGNUP_ERROR,\r\n    SIGNUP_SUCCESS,\r\n    \r\n  } from '../actions/auth';\r\n  import { hideSuccessClearTimeout, showSuccessWithTimeout } from '../actions/success';\r\n  \r\n  export default store => next => action => {\r\n    next(action);\r\n    switch (action.type) {\r\n      case SIGNUP_SUCCESS:\r\n          store.dispatch(showSuccessWithTimeout(action.success));\r\n        break;\r\n  \r\n      case SIGNUP_ERROR:      \r\n        if (store.getState().success) store.dispatch(hideSuccessClearTimeout());\r\n        break;\r\n  \r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  ","import { TOGGLE_DARK_THEME } from '../actions/theme';\r\n\r\nexport default () => next => action => {\r\n  if (action.type === TOGGLE_DARK_THEME) {\r\n    const dark = localStorage.getItem('dark') === 'true';\r\n    localStorage.setItem('dark', (!dark).toString());\r\n  }\r\n  next(action);\r\n};\r\n","const constants = {\r\n  error: '#f5222d',\r\n  success: '#22bb33',\r\n  vote: '#b6b6b6',\r\n  upvote: '#f9920b',\r\n  downvote: '#2e70ff'\r\n};\r\n\r\nconst dark = {\r\n  ...constants,\r\n  normalText: '#ffffff',\r\n  mutedText: '#b0b8bf',\r\n  border: '#333333',\r\n  accent: '#33a0ff',\r\n  pageBackground: '#1b1b1b',\r\n  voteButtonHover: '#383838',\r\n  foreground: '#262626',\r\n  activeBackground: '#333333',\r\n  inputBackground: '#212121',\r\n  shadow: 'rgba(0, 0, 0, 0.4)'\r\n};\r\n\r\nconst light = {\r\n  ...constants,\r\n  normalText: '#454f5b',\r\n  mutedText: '#818e99',\r\n  border: '#ebedf0',\r\n  accent: '#1890ff',\r\n  pageBackground: '#f4f6f8',\r\n  voteButtonHover: '#f2f2f2',\r\n  foreground: '#ffffff',\r\n  activeBackground: '#fafafa',\r\n  inputBackground: '#fcfcfc',\r\n  shadow: 'rgba(0, 0, 0, 0.05)'\r\n};\r\n\r\nconst theme = isDark => (isDark ? dark : light);\r\n\r\nexport default theme;\r\n","import { createBrowserHistory } from 'history';\r\nimport store from '../store';\r\nimport { hideErrorClearTimeout } from '../actions/error';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nhistory.listen(() => {\r\n  if (store.getState().error) store.dispatch(hideErrorClearTimeout());\r\n});\r\n\r\nexport default history;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  body {\r\n    background-color: ${props => props.theme.pageBackground};\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import { connect } from 'react-redux';\r\n\r\nexport default function withAuth (WrappedComponent) {\r\n  const mapStateToProps = state => ({\r\n    token: state.auth.token,\r\n    user: state.auth.user\r\n  });\r\n\r\n  return connect(mapStateToProps)(WrappedComponent);\r\n}\r\n","import { css, keyframes } from 'styled-components';\r\n\r\nexport const smallFont = css`\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport const wideFont = css`\r\n  ${smallFont};\r\n  font-weight: 700;\r\n  letter-spacing: 0.05em;\r\n`;\r\n\r\nconst fadeKeyframes = keyframes`\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n`;\r\n\r\nexport const fade = css`\r\n  animation: ${fadeKeyframes} 0.25s;\r\n`;\r\n\r\nexport const transition = (...props) => {\r\n  let str = 'transition: ';\r\n  props.forEach((item, index) => {\r\n    str = str.concat(\r\n      `${item} 0.1s ease${index === props.length - 1 ? ';' : ', '}`\r\n    );\r\n  });\r\n  return str;\r\n};\r\n\r\nexport const headerItem = css`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-shrink: 0;\r\n  padding: 0 16px;\r\n\r\n  @media (max-width: 425px) {\r\n    padding: 0 8px;\r\n  }\r\n`;\r\n\r\nexport const link = props => css`\r\n  ${transition('color')};\r\n\r\n  text-underline-position: under;\r\n  text-decoration: none;\r\n  color: ${props => props.theme.normalText};\r\n\r\n  :hover {\r\n    ${props.underline && 'text-decoration: underline'};\r\n    color: ${props => props.theme.accent};\r\n  }\r\n`;\r\n\r\nexport const overflow = css`\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link } from 'react-router-dom';\r\nimport { headerItem } from '../shared/helpers';\r\n\r\nconst Logo = styled(Link)`\r\n  ${headerItem};\r\n  \r\n  margin-right: auto;\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n  color: ${props => props.theme.normalText};\r\n  text-decoration: none;\r\n  \r\n  @media (max-width: 425px) {\r\n    padding: 0 8px 0 16px;\r\n    font-size: 19px;\r\n  }\r\n`;\r\n\r\nconst HeaderLogo = () => <Logo to='/'>asperitas</Logo>;\r\n\r\nexport default HeaderLogo;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { transition } from '../../shared/helpers';\r\n\r\nconst Icon = styled.svg`\r\n  width: 20px;\r\n  height: 20px;\r\n\r\n  & path {\r\n    ${transition('fill')};\r\n\r\n    fill: ${props => props.theme.mutedText};\r\n  }\r\n  \r\n  @media (max-width: 425px) {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n`;\r\n\r\nconst HeaderDarkButtonIcon = () => (\r\n  <Icon viewBox='0 0 24 24'>\r\n    <path\r\n      d='M6.03569223,7.86020138e-11 C4.77338857,1.342144 4,3.14939605 4,5.13728269 C4,9.27941831 7.35786438,12.6372827 11.5,12.6372827 C13.4878866,12.6372827 15.2951387,11.8638941 16.6372827,10.6015905 C15.5809549,14.0943073 12.3374493,16.6372827 8.5,16.6372827 C3.80557963,16.6372827 0,12.8317031 0,8.13728269 C0,4.29983338 2.54297542,1.05632781 6.03569223,0 Z'\r\n      transform='translate(4 4)'\r\n    />\r\n  </Icon>\r\n);\r\n\r\nexport default HeaderDarkButtonIcon;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { headerItem } from '../../shared/helpers';\r\nimport HeaderDarkButtonIcon from './Icon';\r\n\r\nconst DarkButton = styled.span`\r\n  ${headerItem};\r\n\r\n  padding: 0 8px;\r\n  cursor: pointer;\r\n\r\n  @media (hover: hover) {\r\n    :hover path {\r\n      fill: ${props => props.theme.accent};\r\n    }\r\n  }\r\n`;\r\n\r\nconst HeaderDarkButton = props => (\r\n  <DarkButton onClick={props.toggleDarkTheme}>\r\n    <HeaderDarkButtonIcon />\r\n  </DarkButton>\r\n);\r\n\r\nexport default HeaderDarkButton;\r\n","import { connect } from 'react-redux';\r\nimport { toggleDarkTheme } from '../../../actions/theme';\r\nimport HeaderDarkButton from './Component';\r\n\r\nconst mapDispatchToProps = { toggleDarkTheme };\r\n\r\nconst HeaderDarkButtonContainer = connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(HeaderDarkButton);\r\n\r\nexport default HeaderDarkButtonContainer;\r\n","import styled from 'styled-components/macro';\r\nimport { NavLink as RouterNavLink } from 'react-router-dom';\r\nimport { link, transition } from './helpers';\r\n\r\nconst activeClassName = 'active';\r\n\r\nconst NavLink = styled(RouterNavLink).attrs({ activeClassName })`\r\n  ${link};\r\n  \r\n  position: relative;\r\n  \r\n  ::after {\r\n    ${transition('opacity')};\r\n    \r\n    content: '';\r\n    position: absolute;\r\n    opacity: 0;\r\n  }\r\n  \r\n  &.${activeClassName} {\r\n    background-color: ${props => props.theme.activeBackground};\r\n    \r\n    ::after {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default NavLink;\r\n","import styled from 'styled-components/macro';\r\nimport NavLink from '../shared/NavLink';\r\nimport { headerItem, wideFont, link, transition } from '../shared/helpers';\r\n\r\nconst HeaderNavLink = styled(NavLink)`\r\n  ${headerItem};\r\n  ${wideFont};\r\n  ${link};\r\n  \r\n  position: relative;\r\n  cursor: pointer;\r\n  color: ${props => props.theme.mutedText};\r\n  \r\n  ::after {\r\n    ${transition('opacity', 'border-bottom-width')};\r\n    \r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    opacity: 0;\r\n    border-bottom: 1px solid ${props => props.theme.accent};\r\n  }\r\n  \r\n  :hover::after {\r\n    opacity: 1;\r\n  }\r\n  \r\n  &.active::after {\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    border-bottom: 3px solid ${props => props.theme.accent};\r\n  }\r\n`;\r\n\r\nexport default HeaderNavLink;\r\n","import styled from 'styled-components/macro';\r\nimport { wideFont } from '../../shared/helpers';\r\n\r\nconst HeaderUsernameText = styled.span`\r\n  ${wideFont};\r\n  \r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  color: ${props => props.theme.mutedText};\r\n`;\r\n\r\nexport default HeaderUsernameText;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport HeaderNavLink from '../NavLink';\r\nimport HeaderUsernameText from './Text';\r\n\r\nconst Wrapper = styled(HeaderNavLink)`\r\n  flex-shrink: 1;\r\n  border-left: 1px solid ${props => props.theme.border};\r\n  border-right: 1px solid ${props => props.theme.border};\r\n  min-width: 0;\r\n`;\r\n\r\nconst HeaderUsername = props => (\r\n  <Wrapper to={`/u/${props.username}`}>\r\n    <HeaderUsernameText>{props.username}</HeaderUsernameText>\r\n  </Wrapper>\r\n);\r\n\r\nexport default HeaderUsername;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport HeaderLogo from './Logo';\r\nimport HeaderDarkButtonContainer from './DarkButton/Container';\r\nimport HeaderUsername from './Username';\r\nimport HeaderNavLink from './NavLink';\r\n\r\nconst Wrapper = styled.header`\r\n  position: sticky;\r\n  z-index: 10;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: stretch;\r\n  margin-bottom: 24px;\r\n  box-shadow: 0 4px 12px ${props => props.theme.shadow};\r\n  border-bottom: 1px solid ${props => props.theme.border};\r\n  height: 48px;\r\n  padding: 0 10vw;\r\n  background-color: ${props => props.theme.foreground};\r\n  user-select: none;\r\n\r\n  @media (max-width: 425px) {\r\n    margin-bottom: 16px;\r\n    height: 40px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst Header = ({ user, logout }) => (\r\n  <Wrapper>\r\n    <HeaderLogo />\r\n    <HeaderDarkButtonContainer />\r\n    {user ? (\r\n      <>\r\n        <HeaderUsername username={user.username} />\r\n        <HeaderNavLink as='span' onClick={logout}>\r\n          log out\r\n        </HeaderNavLink>\r\n      </>\r\n    ) : (\r\n      <>\r\n        <HeaderNavLink to='/login'>log in</HeaderNavLink>\r\n        <HeaderNavLink to='/signup'>sign up</HeaderNavLink>\r\n      </>\r\n    )}\r\n  </Wrapper>\r\n);\r\n\r\nexport default Header;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuth from '../../util/withAuth';\r\nimport { logout } from '../../actions/auth';\r\nimport Header from './Component';\r\n\r\nconst mapDispatchToProps = { logout };\r\n\r\nconst enhance = compose(\r\n  withAuth,\r\n  connect(null, mapDispatchToProps)\r\n);\r\n\r\nconst HeaderContainer = enhance(Header);\r\n\r\nexport default HeaderContainer;\r\n","import styled from 'styled-components/macro';\r\nimport { smallFont } from '../shared/helpers';\r\n\r\nconst ErrorNotificationMessage = styled.div`\r\n  ${smallFont};\r\n\r\n  position: relative;\r\n  display: inline-block;\r\n  padding: 12px 32px;\r\n  background-color: #ffffff;\r\n  color: ${props => props.theme.error};\r\n  border-radius: 2px;\r\n  border: 1px solid ${props => props.theme.border};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\r\n  \r\n  ::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    border-top: 2px solid ${props => props.theme.error};\r\n    border-radius: 2px 2px 0 0;\r\n  }\r\n`;\r\n\r\nexport default ErrorNotificationMessage;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nimport { transition } from '../shared/helpers';\r\nimport ErrorNotificationMessage from './Message';\r\n\r\nconst className = 'message';\r\n\r\nconst Wrapper = styled.div`\r\n  ${transition('opacity', 'transform')};\r\n\r\n  position: fixed;\r\n  top: 16px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  text-align: center;\r\n  pointer-events: none;\r\n\r\n  &.${className}-enter {\r\n    opacity: 0;\r\n    transform: translateY(-25%);\r\n  }\r\n\r\n  &.${className}-enter-active {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  &.${className}-exit {\r\n    opacity: 1;\r\n  }\r\n\r\n  &.${className}-exit-active {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nclass ErrorNotification extends React.Component {\r\n  render() {\r\n    return (\r\n      <TransitionGroup component={null}>\r\n        {this.props.error && (\r\n          <CSSTransition classNames={className} timeout={300}>\r\n            <Wrapper>\r\n              <ErrorNotificationMessage>\r\n                {this.props.error.message}\r\n              </ErrorNotificationMessage>\r\n            </Wrapper>\r\n          </CSSTransition>\r\n        )}\r\n      </TransitionGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ErrorNotification;\r\n","import { connect } from 'react-redux';\r\nimport ErrorNotification from './Component';\r\n\r\nconst mapStateToProps = state => ({ error: state.error });\r\n\r\nconst ErrorNotificationContainer = connect(mapStateToProps)(ErrorNotification);\r\n\r\nexport default ErrorNotificationContainer;\r\n","import styled from 'styled-components/macro';\r\nimport { smallFont } from '../shared/helpers';\r\n\r\nconst NotificationMessage = styled.div`\r\n  ${smallFont};\r\n\r\n  position: relative;\r\n  display: inline-block;\r\n  padding: 12px 32px;\r\n  background-color: #ffffff;\r\n  color: ${props => props.theme.success};\r\n  border-radius: 2px;\r\n  border: 1px solid ${props => props.theme.border};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\r\n  \r\n  ::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    border-top: 2px solid ${props => props.theme.success};\r\n    border-radius: 2px 2px 0 0;\r\n  }\r\n`;\r\n\r\nexport default NotificationMessage;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nimport { transition } from '../shared/helpers';\r\nimport NotificationMessage from './Message';\r\n\r\nconst className = 'message';\r\n\r\nconst Wrapper = styled.div`\r\n  ${transition('opacity', 'transform')};\r\n\r\n  position: fixed;\r\n  top: 16px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  text-align: center;\r\n  pointer-events: none;\r\n\r\n  &.${className}-enter {\r\n    opacity: 0;\r\n    transform: translateY(-25%);\r\n  }\r\n\r\n  &.${className}-enter-active {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  &.${className}-exit {\r\n    opacity: 1;\r\n  }\r\n\r\n  &.${className}-exit-active {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nclass Notification extends React.Component {\r\n  render() {\r\n    return (\r\n      <TransitionGroup component={null}>\r\n        {this.props.success && (\r\n          <CSSTransition classNames={className} timeout={2000000}>\r\n            <Wrapper>\r\n              <NotificationMessage>\r\n                {this.props.success}\r\n              </NotificationMessage>\r\n            </Wrapper>\r\n          </CSSTransition>\r\n        )}\r\n      </TransitionGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notification;\r\n","import { connect } from 'react-redux';\r\nimport Notification from './Component';\r\n\r\nconst mapStateToProps = state => ({ success: state.success });\r\n\r\nconst NotificationContainer = connect(mapStateToProps)(Notification);\r\n\r\nexport default NotificationContainer;\r\n","import styled from 'styled-components/macro';\r\n\r\nconst FormWrapper = styled.div`\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin: 0 auto;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px;\r\n  max-width: ${props => (props.wide ? '600px' : '375px')};\r\n  padding: 24px;\r\n  background-color: ${props => props.theme.foreground};\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 16px;\r\n  }\r\n\r\n  @media (max-width: ${props => (props.wide ? '600px' : '375px')}) {\r\n    border-radius: 0;\r\n    border-left: none;\r\n    border-right: none;\r\n  }\r\n`;\r\n\r\nexport default FormWrapper;\r\n","import styled from 'styled-components/macro';\r\nimport { keyframes } from 'styled-components';\r\n\r\nconst spin = keyframes`\r\n  0% {\r\n    transform: translate(-50%, -50%) rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: translate(-50%, -50%) rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst LoadingIndicatorSpinner = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  animation: ${spin} 1s infinite linear;\r\n  border: .3rem solid ${props => props.theme.accent + '4d'};\r\n  border-top-color: ${props => props.theme.accent};\r\n  border-radius: 50%;\r\n  width: 48px;\r\n  height: 48px;\r\n`;\r\n\r\nexport default LoadingIndicatorSpinner;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { transition } from '../../helpers';\r\nimport FormWrapper from './Wrapper';\r\nimport LoadingIndicatorSpinner from '../../LoadingIndicator/Spinner';\r\n\r\nconst StyledForm = styled.form`\r\n  ${transition('filter')};\r\n  \r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n\r\n  ${props =>\r\n    props.loading &&\r\n    'filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none'};\r\n`;\r\n\r\nconst Form = ({ className, wide, ...props }) => (\r\n  <FormWrapper  className={className} wide={wide}>\r\n    <StyledForm {...props} id=\"signupForm\" />\r\n    {props.loading && <LoadingIndicatorSpinner />}\r\n  </FormWrapper>\r\n);\r\n\r\nexport default Form;\r\n","import styled from 'styled-components/macro';\r\n\r\nconst InputWrapper = styled.div`\r\n  position: relative;\r\n  margin-bottom: 24px;\r\n  width: 100%;\r\n`;\r\n\r\nexport default InputWrapper;\r\n","import styled from 'styled-components/macro';\r\nimport { smallFont } from '../helpers';\r\n\r\nconst Label = styled.label`\r\n  ${smallFont};\r\n  \r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: ${props => props.theme.mutedText};\r\n`;\r\n\r\nexport default Label;\r\n","import styled from 'styled-components/macro';\r\nimport { fade, smallFont } from '../helpers';\r\n\r\nconst Error = styled.span`\r\n  ${fade};\r\n  ${smallFont};\r\n  \r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  color: ${props => props.theme.error};\r\n`;\r\n\r\nexport default Error;\r\n","import styled from 'styled-components/macro';\r\n\r\nconst SelectWrapper = styled.div`\r\n  position: relative;\r\n  ${props => props.flex && 'flex: 1'};\r\n  \r\n  ::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 0;\r\n    transform: translate(-150%, calc(-50% - 2px)) rotate(45deg);\r\n    border-bottom: 2px solid ${props => props.theme.accent};\r\n    border-right: 2px solid ${props => props.theme.accent};\r\n    width: 8px;\r\n    height: 8px;\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nexport default SelectWrapper;\r\n","import styled from 'styled-components/macro';\r\nimport { transition } from '../helpers';\r\n\r\nconst Input = styled.input`\r\n  ${transition('border', 'box-shadow')};\r\n  \r\n  --border: ${props => props.error ? props.theme.error : props.theme.accent};\r\n  --shadow: ${props =>\r\n    props.error ? props.theme.error + '4d' : props.theme.accent + '4d'};\r\n  \r\n  display: block;\r\n  ${props => props.error ? `\r\n    border: 1px solid var(--border)\r\n    ` : `\r\n    border: 1px solid ${props.theme.border}\r\n  `};\r\n  border-radius: 3px;\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: ${props => props.theme.inputBackground};\r\n  font-size: 15px;\r\n  color: ${props => props.theme.normalText};\r\n  appearance: none;\r\n  outline: none;\r\n  resize: vertical;\r\n  \r\n  :hover, :focus {\r\n    border: 1px solid var(--border);\r\n  }\r\n  \r\n  :focus {\r\n    box-shadow: 0 0 0 2px var(--shadow);\r\n  }\r\n`;\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { transition, wideFont } from '../../helpers';\r\n\r\nconst Label = styled.label`\r\n  ${transition('color', 'background-color')};\r\n  ${wideFont};\r\n\r\n  display: block;\r\n  flex: 1 1 100%;\r\n  border: 1px solid ${props => props.theme.accent};\r\n  width: 100%;\r\n  padding: 8px;\r\n  background: ${props => (props.active ? props.theme.accent : 'transparent')};\r\n  cursor: pointer;\r\n  text-align: center;\r\n  color: ${props => (props.active ? '#ffffff' : props.theme.accent)};\r\n  outline: 0;\r\n\r\n  @media (hover: hover) {\r\n    :hover {\r\n      background: ${props => props.theme.accent};\r\n      color: #ffffff;\r\n    }\r\n  }\r\n\r\n  :first-of-type {\r\n    border-radius: 3px 0 0 3px;\r\n  }\r\n\r\n  :last-of-type {\r\n    border-radius: 0 3px 3px 0;\r\n  }\r\n\r\n  :not(:first-of-type) {\r\n    border-left: 0;\r\n  }\r\n`;\r\n\r\nconst RadioGroupOption = props => (\r\n  <>\r\n    <input\r\n      type='radio'\r\n      name='radiogroup'\r\n      id={props.value}\r\n      onChange={props.onClick}\r\n    />\r\n    <Label htmlFor={props.value} active={props.active}>\r\n      {props.label}\r\n    </Label>\r\n  </>\r\n);\r\n\r\nexport default RadioGroupOption;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport RadioGroupOption from './Option';\r\n\r\nconst RadioGroupWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n  \r\n  input[type=radio] {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nfunction handleClick (e, value, fn) {\r\n  e.preventDefault();\r\n  fn(value);\r\n}\r\n\r\nconst renderOptions = field => {\r\n  return field.options.map((option, key) => (\r\n    <RadioGroupOption\r\n      {...option}\r\n      active={field.input.value === option.value}\r\n      onClick={e => handleClick(e, option.value, field.input.onChange)}\r\n      key={key}\r\n    />\r\n  ));\r\n};\r\n\r\nconst RadioGroup = ({ field }) => (\r\n  <RadioGroupWrapper>{renderOptions(field)}</RadioGroupWrapper>\r\n);\r\n\r\nexport default RadioGroup;\r\n","export const checkMaxLength = (value, len) =>\r\n  value && value.length <= len\r\n    ? undefined\r\n    : `must be less than ${len} characters`;\r\n\r\nexport const checkMinLength = (value, len) =>\r\n  value && value.length >= len\r\n    ? undefined\r\n    : `must be more than ${len} characters`;\r\n\r\nexport const checkValidChars = value =>\r\n  /^[a-zA-Z0-9_-]+$/.test(value) ? undefined : 'contains invalid characters';\r\n\r\nexport const checkIfTrimmed = value =>\r\n  value.trim() === value ? undefined : 'cannot start or end with whitespace';\r\n\r\n  export const checkIfEmail = value =>\r\n  // eslint-disable-next-line\r\n  /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(value) ? undefined : 'invalid email';\r\n\r\nexport const validUrl = value => {\r\n  try {\r\n    new URL(value);\r\n    return undefined;\r\n  } catch (error) {\r\n    return 'must be a valid url';\r\n  }\r\n};\r\n\r\nconst max = len => value => checkMaxLength(value, len);\r\nconst min = len => value => checkMinLength(value, len);\r\nconst validChars = value => checkValidChars(value);\r\nconst trimmed = value => checkIfTrimmed(value);\r\nconst validEmail = value => checkIfEmail(value)\r\n\r\nexport const required = value => (value ? undefined : 'required');\r\nexport const postType = value =>\r\n  value === 'link' || value === 'text'\r\n    ? undefined\r\n    : 'must be link or text post';\r\nexport const usernameValidator = [required, max(32), validChars, trimmed];\r\nexport const passwordValidator = [required, min(8), max(72)];\r\nexport const emailValidator = [required, validEmail];\r\nexport const titleValidator = value =>\r\n  required(value) || checkMaxLength(value, 100);\r\nexport const textPostValidator = value =>\r\n  required(value) || checkMinLength(value, 4);\r\nexport const urlValidator = value => required(value) || validUrl(value);\r\nexport const typeValidator = value => required(value) || postType(value);\r\n","import React from 'react';\r\nimport InputWrapper from './InputWrapper';\r\nimport Label from './Label';\r\nimport Error from './Error';\r\nimport SelectWrapper from './SelectWrapper';\r\nimport Input from './Input';\r\nimport RadioGroup from './RadioGroup';\r\n\r\nconst VariableField = field => {\r\n  switch (field.type) {\r\n    case 'select':\r\n      return (\r\n        <InputWrapper>\r\n          <Label>{field.label}</Label>\r\n          {field.meta.touched && field.meta.error && (\r\n            <Error>{field.meta.error}</Error>\r\n          )}\r\n          <SelectWrapper>\r\n            <Input {...field.input} as='select' type='select'>\r\n              {field.children}\r\n            </Input>\r\n          </SelectWrapper>\r\n        </InputWrapper>\r\n      );\r\n\r\n    case 'radiogroup':\r\n      return (\r\n        <InputWrapper>\r\n          <RadioGroup field={field} />\r\n        </InputWrapper>\r\n      );\r\n\r\n    case 'textarea':\r\n      return (\r\n        <InputWrapper>\r\n          <Label>{field.label}</Label>\r\n          {field.meta.touched && field.meta.error && (\r\n            <Error>{field.meta.error}</Error>\r\n          )}\r\n          <Input\r\n            {...field.input}\r\n            as='textarea'\r\n            rows='6'\r\n            error={field.meta.touched && !!field.meta.error}\r\n            placeholder={field.label}\r\n          />\r\n        </InputWrapper>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <InputWrapper>\r\n          <Label>{field.label}</Label>\r\n          {field.meta.touched && field.meta.error && (\r\n            <Error>{field.meta.error}</Error>\r\n          )}\r\n          <Input\r\n            {...field.input}\r\n            error={field.meta.touched && !!field.meta.error}\r\n            type={field.type}\r\n            placeholder={field.label}\r\n            autoComplete='off'\r\n          />\r\n        </InputWrapper>\r\n      );\r\n  }\r\n};\r\n\r\nconst renderField = field => {\r\n  return <VariableField {...field} />;\r\n};\r\n\r\nexport default renderField;\r\n","import styled from 'styled-components/macro';\r\nimport { transition, wideFont } from './helpers';\r\n\r\nconst Button = styled.button`\r\n  ${transition('filter', 'box-shadow')};\r\n  ${wideFont};\r\n  \r\n  border: none;\r\n  border-radius: 3px;\r\n  padding: 8px 24px;\r\n  background-color: ${props => props.theme.accent};\r\n  cursor: pointer;\r\n  color: #ffffff;\r\n  outline: none;\r\n  \r\n  :hover {\r\n    filter: brightness(110%);\r\n  }\r\n  \r\n  :active {\r\n    filter: brightness(90%);\r\n  }\r\n  \r\n  :focus {\r\n    box-shadow: 0 0 0 2px ${props => props.theme.accent + '4d'};\r\n  }\r\n`;\r\n\r\nexport default Button;\r\n","import styled from 'styled-components/macro';\r\nimport Button from '../Button';\r\n\r\nconst SubmitButton = styled(Button)`\r\n  align-self: flex-end;\r\n`;\r\n\r\nexport default SubmitButton;\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport Form from '../shared/form/Form';\r\nimport renderField from '../shared/form/renderField';\r\nimport { usernameValidator, passwordValidator } from '../../util/validators';\r\nimport SubmitButton from '../shared/form/SubmitButton';\r\n\r\nclass LoginForm extends React.Component {\r\n  componentDidMount() {\r\n    this.redirectIfLoggedIn();\r\n    // this.props.showSuccessWithTimeout('Helloo !!')\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    this.redirectIfLoggedIn();\r\n  }\r\n\r\n  redirectIfLoggedIn() {\r\n    if (this.props.token) this.props.history.push('/');\r\n  }\r\n\r\n  onSubmit = ({ username, password }) => {\r\n    this.props.attemptLogin(username, password);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form\r\n        loading={this.props.loading}\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n      >\r\n        <Field\r\n          name='username'\r\n          label='username'\r\n          type='text'\r\n          component={renderField}\r\n          validate={usernameValidator}\r\n        />\r\n        <Field\r\n          name='password'\r\n          label='password'\r\n          type='password'\r\n          component={renderField}\r\n          validate={passwordValidator}\r\n        />\r\n        <SubmitButton type='submit'>log in</SubmitButton>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport withAuth from '../../util/withAuth';\r\nimport { attemptLogin } from '../../actions/auth';\r\nimport { showSuccessWithTimeout } from '../../actions/success';\r\nimport LoginForm from './Component';\r\n\r\nconst mapStateToProps = state => ({\r\n  loading: state.auth.loading\r\n});\r\n\r\nconst mapDispatchToProps = { attemptLogin,showSuccessWithTimeout };\r\n\r\nconst enhance = compose(\r\n  reduxForm({ form: 'login' }),\r\n  withAuth,\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst LoginFormContainer = enhance(LoginForm);\r\n\r\nexport default LoginFormContainer;\r\n","const validate = values => {\r\n  if (values.password !== values.password2) {\r\n    return { password2: 'passwords must match' };\r\n  }\r\n};\r\n\r\nexport default validate;\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport Form from '../shared/form/Form';\r\nimport renderField from '../shared/form/renderField';\r\nimport { usernameValidator, passwordValidator, emailValidator } from '../../util/validators';\r\nimport SubmitButton from '../shared/form/SubmitButton';\r\n\r\nclass SignupForm extends React.Component {\r\n  componentDidMount() {\r\n    this.redirectIfLoggedIn();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    this.redirectIfLoggedIn();\r\n  }\r\n\r\n  redirectIfLoggedIn() {\r\n    if (this.props.token) this.props.history.push('/');\r\n  }\r\n\r\n  onSubmit = ({ username, password , email}) => {\r\n    this.props.attemptSignup(username, password, email)\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form\r\n      \r\n        loading={this.props.loading}\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n      >\r\n        <Field\r\n          name='username'\r\n          label='username'\r\n          type='text'\r\n          component={renderField}\r\n          validate={usernameValidator}\r\n        />\r\n         <Field\r\n          name='email'\r\n          label='email'\r\n          type='text'\r\n          component={renderField}\r\n          validate={emailValidator}\r\n        />\r\n        <Field\r\n          name='password'\r\n          label='password'\r\n          type='password'\r\n          component={renderField}\r\n          validate={passwordValidator}\r\n        />\r\n        <Field\r\n          name='password2'\r\n          label='confirm password'\r\n          type='password'\r\n          component={renderField}\r\n        />\r\n        <SubmitButton type='submit'>sign up</SubmitButton>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignupForm;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport withAuth from '../../util/withAuth';\r\nimport { attemptSignup } from '../../actions/auth';\r\nimport validate from './validate';\r\nimport SignupForm from './Component';\r\n\r\nconst mapStateToProps = state => ({\r\n  loading: state.auth.loading\r\n});\r\n\r\nconst mapDispatchToProps = { attemptSignup };\r\n\r\nconst enhance = compose(\r\n  reduxForm({ form: 'signup', validate }),\r\n  withAuth,\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst SignupFormContainer = enhance(SignupForm);\r\n\r\nexport default SignupFormContainer;\r\n","const categories = [\r\n  'music',\r\n  'funny',\r\n  'videos',\r\n  'programming',\r\n  'news',\r\n  'fashion'\r\n];\r\n\r\nexport default categories;\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport categories from '../../categories';\r\nimport Form from '../shared/form/Form';\r\nimport renderField from '../shared/form/renderField';\r\nimport SubmitButton from '../shared/form/SubmitButton';\r\n\r\nconst postTypes = [\r\n  {\r\n    label: 'link',\r\n    value: 'link'\r\n  },\r\n  {\r\n    label: 'text',\r\n    value: 'text'\r\n  }\r\n];\r\n\r\nclass CreatePostForm extends React.Component {\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const { token, post, history } = this.props;\r\n    if (!token) history.push('/');\r\n    if (post) history.push(`/a/${post.category}/${post.id}`);\r\n  }\r\n\r\n  onSubmit = post => this.props.attemptCreatePost(post);\r\n\r\n  mapCategories = () =>\r\n    categories.map((category, index) => (\r\n      <option key={index} value={category}>\r\n        {category}\r\n      </option>\r\n    ));\r\n\r\n  render() {\r\n    return (\r\n      <Form\r\n        loading={this.props.isFetching}\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n        wide\r\n      >\r\n        <Field\r\n          name='type'\r\n          label='type'\r\n          type='radiogroup'\r\n          component={renderField}\r\n          options={postTypes}\r\n        />\r\n        <Field\r\n          name='category'\r\n          label='category'\r\n          type='select'\r\n          component={renderField}\r\n        >\r\n          {this.mapCategories()}\r\n        </Field>\r\n        <Field name='title' label='title' type='text' component={renderField} />\r\n        {this.props.form.values.type === 'link' && (\r\n          <Field name='url' label='url' type='url' component={renderField} />\r\n        )}\r\n        {this.props.form.values.type === 'text' && (\r\n          <Field\r\n            name='text'\r\n            label='text'\r\n            type='textarea'\r\n            component={renderField}\r\n          />\r\n        )}\r\n        <SubmitButton type='submit'>create post</SubmitButton>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreatePostForm;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport {\r\n  titleValidator,\r\n  urlValidator,\r\n  textPostValidator,\r\n  typeValidator\r\n} from '../../util/validators';\r\nimport { attemptCreatePost } from '../../actions/posts';\r\nimport categories from '../../categories';\r\nimport withAuth from '../../util/withAuth';\r\nimport CreatePostForm from './Component';\r\n\r\nconst validate = fields => {\r\n  const errors = {};\r\n  const title = fields.title ? fields.title : '';\r\n  const url = fields.url ? fields.url : '';\r\n  const type = fields.type ? fields.type : '';\r\n  const text = fields.text ? fields.text : '';\r\n\r\n  errors.title = titleValidator(title);\r\n  if (type === 'link') errors.url = urlValidator(url);\r\n  if (type === 'text') errors.text = textPostValidator(text);\r\n  errors.type = typeValidator(type);\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isFetching: state.posts.isFetching,\r\n  post: state.posts.newPost,\r\n  form: state.form.createPost\r\n});\r\n\r\nconst mapDispatchToProps = { attemptCreatePost };\r\n\r\nconst enhance = compose(\r\n  reduxForm({\r\n    form: 'createPost',\r\n    initialValues: { category: categories[0], type: 'link' },\r\n    validate\r\n  }),\r\n  withAuth,\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst CreatePostFormContainer = enhance(CreatePostForm);\r\n\r\nexport default CreatePostFormContainer;\r\n","import styled from 'styled-components/macro';\r\n\r\nconst HomeMainSection = styled.main`\r\n  flex: 1;\r\n  min-width: 0;\r\n`;\r\n\r\nexport default HomeMainSection;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport categories from '../../categories';\r\nimport SelectWrapper from '../shared/form/SelectWrapper';\r\n\r\nconst Dropdown = styled.select`\r\n  border: none;\r\n  border-radius: 0;\r\n  width: 100%;\r\n  padding: 8px 16px;\r\n  background-color: ${props => props.theme.foreground};\r\n  font-size: 15px;\r\n  color: ${props => props.theme.normalText};\r\n  appearance: none;\r\n`;\r\n\r\nclass CategoryMenuDropdown extends React.Component {\r\n  mapCategories = () =>\r\n    ['all', ...categories].map((category, index) => (\r\n      <option key={index} value={category}>\r\n        {category}\r\n      </option>\r\n    ));\r\n\r\n  handleOnChange = event => {\r\n    const category = event.target.value;\r\n    if (category !== this.props.category) {\r\n      const url = category === 'all' ? '/' : `/a/${category}`;\r\n      this.props.history.push(url);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SelectWrapper flex>\r\n        <Dropdown value={this.props.category} onChange={this.handleOnChange}>\r\n          {this.mapCategories()}\r\n        </Dropdown>\r\n      </SelectWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CategoryMenuDropdown;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../shared/Button';\r\n\r\nconst CreatePostButton = styled(Button)`\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 0;\r\n  padding: 0 16px;\r\n  text-decoration: none;\r\n`;\r\n\r\nconst CategoryMenuCreatePostButton = () => (\r\n  <CreatePostButton as={Link} to='/createpost'>create post</CreatePostButton>\r\n);\r\n\r\nexport default CategoryMenuCreatePostButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Route } from 'react-router-dom';\r\nimport CategoryMenuDropdown from './Dropdown';\r\nimport CategoryMenuCreatePostButton from './CreatePostButton';\r\n\r\nconst Menu = styled.nav`\r\n  display: none;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-left: none;\r\n  border-right: none;\r\n\r\n  @media (max-width: 768px) {\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nconst CategoryMenu = props => (\r\n  <Menu>\r\n    <Route\r\n      path='/a/:category'\r\n      children={({ match, history }) => (\r\n        <CategoryMenuDropdown\r\n          category={match ? match.params.category : 'all'}\r\n          history={history}\r\n        />\r\n      )}\r\n    />\r\n    {props.token && <CategoryMenuCreatePostButton />}\r\n  </Menu>\r\n);\r\n\r\nexport default CategoryMenu;\r\n","import withAuth from '../../util/withAuth';\r\nimport CategoryMenu from './Component';\r\n\r\nconst CategoryMenuContainer = withAuth(CategoryMenu);\r\n\r\nexport default CategoryMenuContainer;\r\n","import styled from 'styled-components/macro';\r\nimport { transition } from '../../shared/helpers';\r\n\r\nconst PostVoteButton = styled.button`\r\n  ${transition('background-color')};\r\n  \r\n  border: 0;\r\n  border-radius: 3px;\r\n  height: 22px;\r\n  width: 22px;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  :focus {\r\n    outline: 0;\r\n  }\r\n  \r\n  :hover {\r\n    background-color: ${props => props.theme.voteButtonHover};\r\n  }\r\n\r\n  ::after {\r\n    ${transition('border')};\r\n    \r\n    content: '';\r\n    position: relative;\r\n    left: 6px;\r\n    display: block;\r\n    transform: rotate(-45deg);\r\n    width: 8px;\r\n    height: 8px;\r\n  }\r\n  \r\n  ${({ canVote }) => !canVote && `\r\n    cursor: default;\r\n    pointer-events: none;\r\n  `}\r\n`;\r\n\r\nexport default PostVoteButton;\r\n","import styled from 'styled-components/macro';\r\nimport PostVoteButton from './Button';\r\n\r\nconst PostVoteUpvote = styled(PostVoteButton)`\r\n  --iconColor: ${props =>\r\n    props.didVote ? props.theme.upvote : props.theme.vote};\r\n\r\n  ::after {\r\n    border-top: 2px solid var(--iconColor);\r\n    border-right: 2px solid var(--iconColor);\r\n    top: 3px;\r\n  }\r\n`;\r\n\r\nexport default PostVoteUpvote;\r\n","import styled from 'styled-components/macro';\r\nimport PostVoteButton from './Button';\r\n\r\nconst PostVoteDownvote = styled(PostVoteButton)`\r\n  --iconColor: ${props =>\r\n    props.didVote ? props.theme.downvote : props.theme.vote};\r\n\r\n  ::after {\r\n    border-bottom: 2px solid var(--iconColor);\r\n    border-left: 2px solid var(--iconColor);\r\n    top: -2px;\r\n  }\r\n`;\r\n\r\nexport default PostVoteDownvote;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport PostVoteUpvote from './Upvote';\r\nimport PostVoteDownvote from './Downvote';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 30px;\r\n  padding: 4px;\r\n  font-size: 12px;\r\n  line-height: 25px;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  color: ${props => props.theme.normalText};\r\n`;\r\n\r\nclass PostVote extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const didVote = PostVote.existingVote(props);\r\n    this.state = {\r\n      score: props.score,\r\n      didVote,\r\n      didUpvote: didVote === 1,\r\n      didDownvote: didVote === -1\r\n    };\r\n  }\r\n\r\n  static existingVote({ user, votes }) {\r\n    const existingVote =\r\n      user && votes && votes.find(vote => vote.user === user.id);\r\n    return existingVote ? existingVote.vote : 0;\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState, nextContext) {\r\n    if (this.props.score !== nextProps.score) {\r\n      const didVote = PostVote.existingVote(nextProps);\r\n      this.setState({\r\n        score: nextProps.score,\r\n        didVote,\r\n        didUpvote: didVote === 1,\r\n        didDownvote: didVote === -1\r\n      });\r\n    } else if (this.props.token !== nextProps.token && !nextProps.token) {\r\n      this.setState({\r\n        didVote: false,\r\n        didUpvote: false,\r\n        didDownvote: false\r\n      });\r\n    }\r\n  }\r\n\r\n  castVote(vote) {\r\n    const { attemptVote, id, token } = this.props;\r\n    if (token) {\r\n      attemptVote(id, vote);\r\n      this.setState({\r\n        score: this.state.score + vote - this.state.didVote,\r\n        didVote: vote,\r\n        didUpvote: vote === 1,\r\n        didDownvote: vote === -1\r\n      });\r\n    }\r\n  }\r\n\r\n  upvote = () => this.castVote(this.state.didUpvote ? 0 : 1);\r\n\r\n  downvote = () => this.castVote(this.state.didDownvote ? 0 : -1);\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <PostVoteUpvote\r\n          canVote={!!this.props.token}\r\n          didVote={this.state.didUpvote}\r\n          onClick={this.upvote}\r\n        />\r\n        <span>{this.state.score}</span>\r\n        <PostVoteDownvote\r\n          canVote={!!this.props.token}\r\n          didVote={this.state.didDownvote}\r\n          onClick={this.downvote}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostVote;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuth from '../../../util/withAuth';\r\nimport { attemptVote } from '../../../actions/posts';\r\nimport PostVote from './Component';\r\n\r\nconst mapDispatchToProps = { attemptVote };\r\n\r\nconst enhance = compose(\r\n  withAuth,\r\n  connect(\r\n    null,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst PostVoteContainer = enhance(PostVote);\r\n\r\nexport default PostVoteContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link } from 'react-router-dom';\r\nimport { overflow, link } from '../../shared/helpers';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n\r\n  * {\r\n    ${overflow};\r\n\r\n    display: block;\r\n    font-size: 15px;\r\n    line-height: 21px;\r\n    font-weight: 500;\r\n    text-decoration: none;\r\n    color: ${props => props.theme.normalText};\r\n    ${props => props.full && 'white-space: unset'};\r\n  }\r\n\r\n  a {\r\n    ${link({ underline: true })};\r\n  }\r\n`;\r\n\r\nconst renderTitle = props => {\r\n  switch (props.type) {\r\n    case 'link':\r\n      return <a href={props.url}>{props.title}</a>;\r\n\r\n    case 'text':\r\n      if (props.full) return <span>{props.title}</span>;\r\n      return <Link to={`/a/${props.category}/${props.id}`}>{props.title}</Link>;\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nconst PostContentTitle = props => (\r\n  <Wrapper full={props.full}>{renderTitle(props)}</Wrapper>\r\n);\r\n\r\nexport default PostContentTitle;\r\n","import styled from 'styled-components/macro';\r\nimport { overflow } from '../../shared/helpers';\r\n\r\nconst PostContentPreview = styled.div`\r\n  ${overflow};\r\n\r\n  max-width: 800px;\r\n  padding-bottom: 1px;\r\n  font-size: 13px;\r\n  line-height: 19px;\r\n  color: ${props => props.theme.mutedText};\r\n`;\r\n\r\nexport default PostContentPreview;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { css } from 'styled-components';\r\n\r\nconst headingSizes = {\r\n  h1: 1.75,\r\n  h2: 1.5,\r\n  h3: 1.25,\r\n  h4: 1.1,\r\n  h5: 0.9,\r\n  h6: 0.75\r\n};\r\n\r\nconst headingStyle = level => css`\r\n  margin-top: 1em;\r\n  margin-bottom: 0.75em;\r\n  line-height: 1;\r\n  font-size: ${headingSizes[level]}em;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Heading = styled.span`\r\n  ${props => headingStyle(props.as)};\r\n\r\n  & + h1,\r\n  & + h2,\r\n  & + h3,\r\n  & + h4,\r\n  & + h5,\r\n  & + h6 {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst headingRenderer = props => {\r\n  const levelString = `h${props.level}`;\r\n  return <Heading as={levelString}>{props.children}</Heading>;\r\n};\r\n\r\nexport default headingRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { transition } from '../../helpers';\r\n\r\nconst Link = styled.a`\r\n  ${transition('color')};\r\n\r\n  text-decoration: underline;\r\n  color: ${props => props.theme.accent};\r\n\r\n  :hover {\r\n    filter: brightness(110%);\r\n  }\r\n`;\r\n\r\nconst linkRenderer = props => <Link {...props} />;\r\n\r\nexport default linkRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nconst Pre = styled.pre`\r\n  border-radius: 2px;\r\n  padding: 12px 16px;\r\n  background-color: ${props => props.theme.pageBackground};\r\n  overflow-x: scroll;\r\n`;\r\n\r\nconst codeRenderer = props => (\r\n  <Pre>\r\n    <code>{props.value}</code>\r\n  </Pre>\r\n);\r\n\r\nexport default codeRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nconst InlineCode = styled.code`\r\n  border-radius: 2px;\r\n  padding: 0.2em 0.4em;\r\n  background-color: ${props => props.theme.pageBackground};\r\n`;\r\n\r\nconst inlineCodeRenderer = props => <InlineCode {...props} />;\r\n\r\nexport default inlineCodeRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nconst Table = styled.table`\r\n  border-collapse: collapse;\r\n`;\r\n\r\nconst tableRenderer = props => <Table {...props} />;\r\n\r\nexport default tableRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { css } from 'styled-components';\r\n\r\nconst tableHeader = css`\r\n  text-align: center;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst tableCell = isHeader => css`\r\n  ${isHeader && tableHeader};\r\n  border: 1px solid ${props => props.theme.border};\r\n  padding: 0 0.75em;\r\n`;\r\n\r\nconst TableCell = styled.td`\r\n  ${props => tableCell(props.as === 'th')};\r\n  line-height: 2;\r\n`;\r\n\r\nconst tableCellRenderer = props => {\r\n  if (props.isHeader) return <TableCell as='th'>{props.children}</TableCell>;\r\n  return <TableCell>{props.children}</TableCell>;\r\n};\r\n\r\nexport default tableCellRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nconst ThematicBreak = styled.hr`\r\n  margin: 1em 0;\r\n  border: none;\r\n  border-bottom: 1px solid ${props => props.theme.border};\r\n`;\r\n\r\nconst thematicBreakRenderer = () => <ThematicBreak />;\r\n\r\nexport default thematicBreakRenderer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nconst List = styled.ul`\r\n  margin-block-start: 0.5em;\r\n  margin-block-end: 0.5em;\r\n  margin-inline-start: 0px;\r\n  margin-inline-end: 0px;\r\n  padding-inline-start: 1em;\r\n  padding-left: 2em;\r\n  line-height: 1.75;\r\n`;\r\n\r\nconst listRenderer = props => {\r\n  if (props.ordered) return <List as='ol'>{props.children}</List>;\r\n  return <List>{props.children}</List>;\r\n};\r\n\r\nexport default listRenderer;\r\n","import React from 'react';\r\nimport headingRenderer from './heading';\r\nimport linkRenderer from './link';\r\nimport codeRenderer from './code';\r\nimport inlineCodeRenderer from './inlineCode';\r\nimport tableRenderer from './table';\r\nimport tableCellRenderer from './tableCell';\r\nimport thematicBreakRenderer from './thematicBreak';\r\nimport listRenderer from './list';\r\n\r\nconst renderers = {\r\n  heading: headingRenderer,\r\n  link: linkRenderer,\r\n  code: codeRenderer,\r\n  inlineCode: inlineCodeRenderer,\r\n  table: tableRenderer,\r\n  tableCell: tableCellRenderer,\r\n  thematicBreak: thematicBreakRenderer,\r\n  list: listRenderer,\r\n  html: props => <p>{props.value}</p>\r\n};\r\n\r\nexport default renderers;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport breaks from 'remark-breaks';\r\nimport renderers from './renderers';\r\n\r\nconst StyledReactMarkdown = styled(ReactMarkdown)`\r\n  color: ${props => props.theme.normalText};\r\n  font-size: 15px;\r\n  line-height: 1.5;\r\n\r\n  p,\r\n  ol,\r\n  ul,\r\n  pre,\r\n  table {\r\n    margin-bottom: 0.5em;\r\n  }\r\n\r\n  code {\r\n    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier,\r\n      monospace;\r\n    font-size: 14px;\r\n    line-height: 1.25;\r\n  }\r\n\r\n  > :last-child {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  > :first-child {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst allowed = [\r\n  'text',\r\n  'paragraph',\r\n  'emphasis',\r\n  'strong',\r\n  'delete',\r\n  'heading',\r\n  'link',\r\n  'code',\r\n  'table',\r\n  'tableHead',\r\n  'tableBody',\r\n  'tableRow',\r\n  'tableCell',\r\n  'html',\r\n  'thematicBreak',\r\n  'list',\r\n  'listItem',\r\n  'inlineCode'\r\n];\r\n\r\nconst Markdown = props => (\r\n  <StyledReactMarkdown\r\n    source={props.children}\r\n    plugins={[breaks]}\r\n    allowedTypes={allowed}\r\n    renderers={renderers}\r\n    unwrapDisallowed\r\n  />\r\n);\r\n\r\nexport default Markdown;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Markdown from '../../shared/Markdown';\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 8px -8px;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-left: none;\r\n  border-right: none;\r\n  padding: 8px;\r\n  background-color: ${props => props.theme.inputBackground};\r\n`;\r\n\r\nconst PostContentFullText = props => (\r\n  <Wrapper>\r\n    <Markdown>{props.children}</Markdown>\r\n  </Wrapper>\r\n);\r\n\r\nexport default PostContentFullText;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link } from 'react-router-dom';\r\nimport { link } from './helpers';\r\n\r\nconst StyledLink = styled(Link)`\r\n  ${link};\r\n\r\n  font-weight: 500;\r\n  color: ${props => props.theme.normalText};\r\n`;\r\n\r\nconst Author = ({ username }) => (\r\n  <StyledLink to={`/u/${username}`}>{username}</StyledLink>\r\n);\r\n\r\nexport default Author;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { link } from '../../shared/helpers';\r\nimport Author from '../../shared/Author';\r\n\r\nconst Wrapper = styled.div`\r\n  font-size: 13px;\r\n  margin-top: auto;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n\r\n  & > * {\r\n    margin-right: 4px;\r\n  }\r\n\r\n  & > a {\r\n    ${link};\r\n  }\r\n\r\n  & > span {\r\n    color: ${props => props.theme.mutedText};\r\n  }\r\n`;\r\n\r\nconst PostContentDetail = props => (\r\n  <Wrapper>\r\n    <Link to={`/a/${props.category}/${props.id}`}>\r\n      {props.commentCount} comment{props.commentCount !== 1 ? 's' : null}\r\n    </Link>\r\n    <Link to={`/a/${props.category}`}>/a/{props.category}</Link>\r\n    <span>by</span>\r\n    <Author username={props.author && props.author.username} />\r\n    <span>{moment(props.created).fromNow()}</span>\r\n  </Wrapper>\r\n);\r\n\r\nexport default PostContentDetail;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport PostContentTitle from './Title';\r\nimport PostContentPreview from './Preview';\r\nimport PostContentFullText from './FullText';\r\nimport PostContentDetail from './Detail';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  border-left: 1px solid ${props => props.theme.border};\r\n  padding: 8px;\r\n  min-width: 0;\r\n`;\r\n\r\nconst renderContent = props => {\r\n  switch (props.type) {\r\n    case 'link':\r\n      return <PostContentPreview>{props.url}</PostContentPreview>;\r\n\r\n    case 'text':\r\n      if (props.showFullPost) {\r\n        return <PostContentFullText>{props.text}</PostContentFullText>;\r\n      }\r\n      return <PostContentPreview>{props.text}</PostContentPreview>;\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nconst PostContent = ({\r\n  url,\r\n  title,\r\n  type,\r\n  text,\r\n  commentCount,\r\n  showFullPost,\r\n  ...details\r\n}) => (\r\n  <Wrapper>\r\n    <PostContentTitle\r\n      url={url}\r\n      title={title}\r\n      type={type}\r\n      full={showFullPost}\r\n      {...details}\r\n    />\r\n    {renderContent({ type, url, text, showFullPost })}\r\n    <PostContentDetail commentCount={commentCount} {...details} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PostContent;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport PostVoteContainer from './Vote/Container';\r\nimport PostContent from './Content';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  height: auto;\r\n  background-color: ${props => props.theme.foreground};\r\n`;\r\n\r\nconst Post = ({ id, votes, score, comments, full, ...content }) => (\r\n  <Wrapper>\r\n    <PostVoteContainer id={id} votes={votes} score={score} />\r\n    <PostContent\r\n      showFullPost={full}\r\n      id={id}\r\n      commentCount={comments ? comments.length : 0}\r\n      {...content}\r\n    />\r\n  </Wrapper>\r\n);\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Post from '../Post';\r\n\r\nconst Item = styled.li`\r\n  :not(:first-child) {\r\n    border-top: 1px solid ${props => props.theme.border};\r\n  }\r\n`;\r\n\r\nconst PostListItem = props => (\r\n  <Item>\r\n    <Post {...props} />\r\n  </Item>\r\n);\r\n\r\nexport default PostListItem;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport LoadingIndicatorSpinner from './Spinner';\r\n\r\nconst Box = styled.div`\r\n  position: relative;\r\n  margin: 48px auto 0;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px;\r\n  width: 72px;\r\n  height: 72px;\r\n  background-color: ${props => props.theme.foreground};\r\n`;\r\n\r\nconst LoadingIndicatorBox = () => (\r\n  <Box>\r\n    <LoadingIndicatorSpinner />\r\n  </Box>\r\n);\r\n\r\nexport default LoadingIndicatorBox;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { smallFont } from '../shared/helpers';\r\n\r\nconst Wrapper = styled.div`\r\n  ${smallFont};\r\n\r\n  ${props => props.comments && 'margin-top: 16px'};\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px;\r\n  padding: 48px 0;\r\n  background-color: ${props => props.theme.foreground};\r\n  text-align: center;\r\n  color: ${props => props.theme.mutedText};\r\n\r\n  @media (max-width: 768px) {\r\n    ${props => !props.comments && 'margin-top: -1px'};\r\n    border-left: none;\r\n    border-right: none;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nconst Empty = ({ comments }) => {\r\n  const message = comments ? 'no comments' : \"there's nothing here...\";\r\n  return <Wrapper comments={comments}>{message}</Wrapper>;\r\n};\r\n\r\nexport default Empty;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport PostListItem from './Item';\r\nimport LoadingIndicatorBox from '../shared/LoadingIndicator/Box';\r\nimport Empty from '../shared/Empty';\r\n\r\nconst List = styled.ul`\r\n  list-style: none;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px;\r\n\r\n  @media (max-width: 768px) {\r\n    border-top: none;\r\n    border-left: none;\r\n    border-right: none;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nclass PostList extends React.Component {\r\n  loadPosts = () => {\r\n    const { username, category } = this.props;\r\n    if (username) return this.props.fetchProfile(username);\r\n    return this.props.fetchPosts(category);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadPosts();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (\r\n      this.props.category !== prevProps.category ||\r\n      this.props.username !== prevProps.username\r\n    )\r\n      this.loadPosts();\r\n  }\r\n\r\n  mapPosts = () =>\r\n    this.props.posts.map((post, index) => (\r\n      <PostListItem key={index} {...post} />\r\n    ));\r\n\r\n  render() {\r\n    if (this.props.isFetching) return <LoadingIndicatorBox />;\r\n    if (!this.props.posts || this.props.posts.length === 0) return <Empty />;\r\n    return <List>{this.mapPosts()}</List>;\r\n  }\r\n}\r\n\r\nexport default PostList;\r\n","import { connect } from 'react-redux';\r\nimport { fetchPosts, fetchProfile } from '../../actions/posts';\r\nimport PostList from './Component';\r\n\r\nexport const mapStateToProps = state => ({\r\n  posts: state.posts.items,\r\n  isFetching: state.posts.isFetching\r\n});\r\n\r\nconst mapDispatchToProps = { fetchPosts, fetchProfile };\r\n\r\nconst PostListContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PostList);\r\n\r\nexport default PostListContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Post from '../Post';\r\n\r\nconst Wrapper = styled.div`\r\n  overflow: hidden;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px 2px 0 0;\r\n\r\n  @media (max-width: 768px) {\r\n    margin-bottom: 0;\r\n    border-top: none;\r\n    border-left: none;\r\n    border-right: none;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nconst PostDetailPost = props => (\r\n  <Wrapper>\r\n    <Post {...props} full />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PostDetailPost;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { link } from './helpers';\r\n\r\nconst Button = styled.button`\r\n  ${link};\r\n  \r\n  border: none;\r\n  outline: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  color: ${props => props.theme.normalText};\r\n  margin-left: auto;\r\n`;\r\n\r\nconst DeleteButton = props => (\r\n  <Button onClick={props.onClick}>delete</Button>\r\n);\r\n\r\nexport default DeleteButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport DeleteButton from '../../shared/DeleteButton';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  margin-top: -1px;\r\n  border: 1px solid ${props => props.theme.border};\r\n  ${props => props.round && 'border-radius: 0 0 2px 2px'};\r\n  padding: 8px;\r\n  background-color: ${props => props.theme.foreground};\r\n  font-size: 13px;\r\n  color: ${props => props.theme.mutedText};\r\n\r\n  @media (max-width: 768px) {\r\n    border-left: none;\r\n    border-right: none;\r\n  }\r\n`;\r\n\r\nclass PostDetailInfoBar extends React.Component {\r\n  deletePost = () => this.props.attemptDeletePost();\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper round={!this.props.token}>\r\n        <span>{this.props.views} views</span>\r\n        <span>&nbsp;|&nbsp;</span>\r\n        <span>{this.props.upvotePercentage}% upvoted</span>\r\n        {this.props.token &&\r\n          (this.props.user.id === this.props.author.id ||\r\n            this.props.user.admin) && (\r\n            <DeleteButton onClick={this.deletePost} />\r\n          )}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostDetailInfoBar;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuth from '../../../util/withAuth';\r\nimport { attemptDeletePost } from '../../../actions/posts';\r\nimport PostDetailInfoBar from './Component';\r\n\r\nconst mapDispatchToProps = { attemptDeletePost };\r\n\r\nconst enhance = compose(\r\n  withAuth,\r\n  connect(\r\n    null,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst PostDetailInfoBarContainer = enhance(PostDetailInfoBar);\r\n\r\nexport default PostDetailInfoBarContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Field } from 'redux-form';\r\nimport Input from '../shared/form/Input';\r\n\r\nconst TextArea = styled(Input)`\r\n  margin: 0;\r\n  border: none;\r\n  border-bottom: 1px solid ${props => props.theme.border};\r\n  border-radius: 0;\r\n  resize: none;\r\n\r\n  :hover,\r\n  :focus {\r\n    border: none;\r\n    border-bottom: 1px solid ${props => props.theme.border};\r\n    box-shadow: none;\r\n  }\r\n`;\r\n\r\nclass CommentFormTextArea extends React.Component {\r\n  onKeyDown = e => {\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      this.props.onSubmit();\r\n    }\r\n  };\r\n\r\n  renderField = field => (\r\n    <TextArea\r\n      as='textarea'\r\n      {...field.input}\r\n      placeholder='enter your comment'\r\n      rows='2'\r\n      onKeyDown={this.onKeyDown}\r\n    />\r\n  );\r\n\r\n  render() {\r\n    return <Field name={this.props.name} component={this.renderField} />;\r\n  }\r\n}\r\n\r\nexport default CommentFormTextArea;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport SubmitButton from '../shared/form/SubmitButton';\r\n\r\nconst StyledSubmitButton = styled(SubmitButton)`\r\n  margin: 4px;\r\n  padding: 4px 12px;\r\n`;\r\n\r\nconst CommentFormSubmitButton = () => (\r\n  <StyledSubmitButton type='submit'>submit</StyledSubmitButton>\r\n);\r\n\r\nexport default CommentFormSubmitButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Form from '../shared/form/Form';\r\nimport { transition } from '../shared/helpers';\r\nimport CommentFormTextArea from './TextArea';\r\nimport CommentFormSubmitButton from './SubmitButton';\r\n\r\nconst StyledForm = styled(Form)`\r\n  ${transition('border', 'box-shadow')};\r\n\r\n  margin-top: -1px;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 0 0 2px 2px;\r\n  max-width: none;\r\n  padding: 0;\r\n\r\n  @media (hover: hover) {\r\n    :hover {\r\n      border: 1px solid ${props => props.theme.accent};\r\n    }\r\n  }\r\n\r\n  :focus-within {\r\n    border: 1px solid ${props => props.theme.accent};\r\n    box-shadow: 0 0 0 2px ${props => props.theme.accent + '4d'};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    margin-top: -1px;\r\n    border-radius: 0;\r\n    border-left: none;\r\n    border-right: none;\r\n\r\n    :hover,\r\n    :focus-within {\r\n      border-left: none;\r\n      border-right: none;\r\n    }\r\n  }\r\n`;\r\n\r\nclass CommentForm extends React.Component {\r\n  createComment = comment => this.props.attemptCreateComment(comment);\r\n\r\n  onSubmit = () => this.props.handleSubmit(this.createComment);\r\n\r\n  render() {\r\n    return (\r\n      <StyledForm onSubmit={this.onSubmit()}>\r\n        <CommentFormTextArea name='comment' onSubmit={this.onSubmit()} />\r\n        <CommentFormSubmitButton />\r\n      </StyledForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentForm;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport { attemptCreateComment } from '../../actions/posts';\r\nimport CommentForm from './Component';\r\n\r\nconst mapDispatchToProps = { attemptCreateComment };\r\n\r\nconst enhance = compose(\r\n  reduxForm({ form: 'comment' }),\r\n  connect(\r\n    null,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst CommentFormContainer = enhance(CommentForm);\r\n\r\nexport default CommentFormContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport moment from 'moment';\r\n\r\nconst Timestamp = styled.span`\r\n  margin-left: 4px;\r\n  color: ${props => props.theme.mutedText};\r\n`;\r\n\r\nconst CommentDetailTimestamp = props => (\r\n  <Timestamp>\r\n    {moment(props.created).fromNow()}\r\n  </Timestamp>\r\n);\r\n\r\nexport default CommentDetailTimestamp;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Author from '../../shared/Author';\r\nimport CommentDetailTimestamp from './Timestamp';\r\nimport DeleteButton from '../../shared/DeleteButton';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid ${props => props.theme.border};\r\n  padding: 8px;\r\n  font-size: 13px;\r\n`;\r\n\r\nclass CommentDetail extends React.Component {\r\n  deleteComment = () => this.props.attemptDeleteComment(this.props.id);\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <Author username={this.props.author && this.props.author.username} />\r\n        <CommentDetailTimestamp created={this.props.created} />\r\n        {this.props.token &&\r\n          (this.props.user.id === this.props.author.id ||\r\n            this.props.user.admin) && (\r\n            <DeleteButton onClick={this.deleteComment} />\r\n          )}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentDetail;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuth from '../../../util/withAuth';\r\nimport { attemptDeleteComment } from '../../../actions/posts';\r\nimport CommentDetail from './Component';\r\n\r\nconst mapDispatchToProps = { attemptDeleteComment };\r\n\r\nconst enhance = compose(\r\n  withAuth,\r\n  connect(\r\n    null,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst CommentDetailContainer = enhance(CommentDetail);\r\n\r\nexport default CommentDetailContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Markdown from '../shared/Markdown';\r\n\r\nconst Content = styled.div`\r\n  padding: 12px;\r\n`;\r\n\r\nconst CommentContent = props => (\r\n  <Content>\r\n    <Markdown>{props.children}</Markdown>\r\n  </Content>\r\n);\r\n\r\nexport default CommentContent;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport CommentDetailContainer from './Detail/Container';\r\nimport CommentContent from './Content';\r\n\r\nconst Wrapper = styled.div`\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px;\r\n  background-color: ${props => props.theme.foreground};\r\n\r\n  @media (max-width: 768px) {\r\n    border-left: none;\r\n    border-right: none;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nconst Comment = ({ body, ...details }) => (\r\n  <Wrapper>\r\n    <CommentDetailContainer {...details} />\r\n    <CommentContent>{body}</CommentContent>\r\n  </Wrapper>\r\n);\r\n\r\nexport default Comment;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Comment from '../Comment';\r\n\r\nconst Item = styled.li`\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst CommentListItem = props => (\r\n  <Item>\r\n    <Comment {...props} />\r\n  </Item>\r\n);\r\n\r\nexport default CommentListItem;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport CommentListItem from './Item';\r\n\r\nconst List = styled.ul`\r\n  margin-top: 16px;\r\n  list-style: none;\r\n`;\r\n\r\nconst mapComments = comments =>\r\n  comments.map((comment, index) => (\r\n    <CommentListItem key={index} {...comment} />\r\n  ));\r\n\r\nconst sortComments = comments =>\r\n  comments.sort((a, b) => new Date(b.created) - new Date(a.created));\r\n\r\nconst CommentList = ({ comments }) =>\r\n  comments && <List>{mapComments(sortComments(comments))}</List>;\r\n\r\nexport default CommentList;\r\n","import React from 'react';\r\nimport Empty from '../shared/Empty';\r\nimport CommentList from '../CommentList';\r\n\r\nconst PostDetailCommentSection = ({ comments }) => (\r\n  <>\r\n    {!comments || comments.length === 0 ? (\r\n      <Empty comments />\r\n    ) : (\r\n      <CommentList comments={comments} />\r\n    )}\r\n  </>\r\n);\r\n\r\nexport default PostDetailCommentSection;\r\n","import React from 'react';\r\nimport LoadingIndicatorBox from '../shared/LoadingIndicator/Box';\r\nimport Empty from '../shared/Empty';\r\nimport PostDetailPost from './Post';\r\nimport PostDetailInfoBarContainer from './InfoBar/Container';\r\nimport CommentFormContainer from '../CommentForm/Container';\r\nimport PostDetailCommentSection from './CommentSection';\r\n\r\nclass PostDetail extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchPost(this.props.id);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.post !== prevProps.post && this.props.post === null) {\r\n      this.props.history.goBack();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { post } = this.props;\r\n    if (this.props.isFetching) return <LoadingIndicatorBox />;\r\n    if (!post) return <Empty />;\r\n    return (\r\n      <>\r\n        <PostDetailPost {...post} />\r\n        <PostDetailInfoBarContainer\r\n          id={post.id}\r\n          views={post.views}\r\n          upvotePercentage={post.upvotePercentage}\r\n          author={post.author}\r\n        />\r\n        {this.props.token && <CommentFormContainer id={post.id} />}\r\n        <PostDetailCommentSection comments={post.comments} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostDetail;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuth from '../../util/withAuth';\r\nimport { fetchPost } from '../../actions/posts';\r\nimport PostDetail from './Component';\r\n\r\nexport const mapStateToProps = state => ({\r\n  isFetching: state.posts.isFetching,\r\n  post: state.posts.post\r\n});\r\n\r\nconst mapDispatchToProps = { fetchPost };\r\n\r\nconst enhance = compose(\r\n  withAuth,\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n);\r\n\r\nconst PostDetailContainer = enhance(PostDetail);\r\n\r\nexport default PostDetailContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../shared/Button';\r\n\r\nconst CreatePostButton = styled(Button)`\r\n  border-radius: 2px 2px 0 0;\r\n  padding: 16px;\r\n  text-decoration: none;\r\n  text-align: center;\r\n`;\r\n\r\nconst SidebarCreatePostButton = () => (\r\n  <CreatePostButton as={Link} to='/createpost'>create post</CreatePostButton>\r\n);\r\n\r\nexport default SidebarCreatePostButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport NavLink from '../../shared/NavLink';\r\n\r\nconst Item = styled(NavLink)`\r\n  padding: 12px;\r\n  font-size: 15px;\r\n  text-decoration: none;\r\n  color: ${props => props.theme.normalText};\r\n  \r\n  ::after {\r\n    left: -1px;\r\n    top: 0;\r\n    bottom: 0;\r\n    border-left: 3px solid ${props => props.theme.accent};\r\n  }\r\n`;\r\n\r\nconst SidebarCategoryListItem = ({ category }) => {\r\n  const isAll = category === 'all';\r\n  return (\r\n    <Item exact={isAll} to={isAll ? '/' : `/a/${category}`}>\r\n      {category}\r\n    </Item>\r\n  );\r\n};\r\n\r\nexport default SidebarCategoryListItem;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { wideFont } from '../../shared/helpers';\r\n\r\nconst Header = styled.span`\r\n  ${wideFont};\r\n  \r\n  display: block;\r\n  padding: 12px;\r\n  text-align: center;\r\n  color: ${props => props.theme.mutedText};\r\n`;\r\n\r\nconst SidebarCategoryListHeader = () => <Header>categories</Header>;\r\n\r\nexport default SidebarCategoryListHeader;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport SidebarCategoryListItem from './Item';\r\nimport SidebarCategoryListHeader from './Header';\r\nimport categories from '../../../categories';\r\n\r\nconst CategoryList = styled.nav`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst mapCategories = categories =>\r\n  categories.map((category, index) => (\r\n    <SidebarCategoryListItem key={index} category={category} />\r\n  ));\r\n\r\nconst SidebarCategoryList = () => (\r\n  <CategoryList>\r\n    <SidebarCategoryListHeader />\r\n    {mapCategories(['all', ...categories])}\r\n  </CategoryList>\r\n);\r\n\r\nexport default SidebarCategoryList;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport SidebarCreatePostButton from './CreatePostButton';\r\nimport SidebarCategoryList from './CategoryList';\r\n\r\nconst Wrapper = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-basis: 240px;\r\n  margin-left: 24px;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 2px;\r\n  background-color: ${props => props.theme.foreground};\r\n  \r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Sidebar = ({ token }) => (\r\n  <Wrapper>\r\n    {token && <SidebarCreatePostButton />}\r\n    <SidebarCategoryList />\r\n  </Wrapper>\r\n);\r\n\r\nexport default Sidebar;\r\n","import withAuth from '../../util/withAuth';\r\nimport Sidebar from './Component';\r\n\r\nconst SidebarContainer = withAuth(Sidebar);\r\n\r\nexport default SidebarContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Route } from 'react-router-dom';\r\nimport HomeMainSection from './MainSection';\r\nimport CategoryMenuContainer from '../CategoryMenu/Container';\r\nimport PostListContainer from '../PostList/Container';\r\nimport PostDetailContainer from '../PostDetail/Container';\r\nimport SidebarContainer from '../Sidebar/Container';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin: 0 10vw;\r\n  \r\n  @media (max-width: 1024px) {\r\n    margin: 0 5vw;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    display: block;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Home = () => (\r\n  <Wrapper>\r\n    <HomeMainSection>\r\n      <Route component={CategoryMenuContainer} />\r\n      <Route exact path='/' component={PostListContainer} />\r\n      <Route\r\n        exact\r\n        path='/a/:category'\r\n        render={({ match }) => (\r\n          <PostListContainer category={match.params.category} />\r\n        )}\r\n      />\r\n      <Route\r\n        exact\r\n        path='/u/:username'\r\n        render={({ match }) => (\r\n          <PostListContainer username={match.params.username} />\r\n        )}\r\n      />\r\n      <Route\r\n        exact\r\n        path='/a/:category/:post'\r\n        render={({ match, history }) => (\r\n          <PostDetailContainer id={match.params.post} history={history} />\r\n        )}\r\n      />\r\n    </HomeMainSection>\r\n    <Route component={SidebarContainer} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport theme from '../../theme';\r\nimport history from '../../util/history';\r\nimport GlobalStyle from '../../globalStyle';\r\nimport HeaderContainer from '../Header/Container';\r\nimport ErrorNotificationContainer from '../ErrorNotification/Container';\r\nimport Notification from '../Notification/Container'\r\nimport LoginFormContainer from '../LoginForm/Container';\r\nimport SignupFormContainer from '../SignupForm/Container';\r\nimport CreatePostFormContainer from '../CreatePostForm/Container';\r\nimport Home from '../Home';\r\n\r\nconst App = props => (\r\n  <ThemeProvider theme={theme(props.dark)}>\r\n    <Router history={history}>\r\n      <>\r\n        <GlobalStyle />\r\n        <Route component={HeaderContainer} />\r\n        <Route component={ErrorNotificationContainer} />\r\n        <Route component={Notification} />\r\n        <Switch>\r\n          <Route path='/login' component={LoginFormContainer} />\r\n          <Route path='/signup' component={SignupFormContainer} />\r\n          <Route path='/createpost' component={CreatePostFormContainer} />\r\n          <Route path='/' component={Home} />\r\n        </Switch>\r\n      </>\r\n    </Router>\r\n  </ThemeProvider>\r\n);\r\n\r\nexport default App;\r\n","import { connect } from 'react-redux';\r\nimport App from './Component';\r\n\r\nconst mapStateToProps = state => ({ dark: state.theme.dark });\r\n\r\nconst AppContainer = connect(mapStateToProps)(App);\r\n\r\nexport default AppContainer;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import './style.css';\r\nimport './config/moment';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport AppContainer from './components/App/Container';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AppContainer />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}